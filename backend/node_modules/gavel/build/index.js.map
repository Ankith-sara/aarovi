{"version":3,"file":"index.js","sources":["../lib/utils/isset.js","../lib/utils/evolve.js","../lib/utils/otherwise.js","../lib/units/coerce/index.js","../lib/units/normalize/normalizeMethod.js","../lib/units/normalize/normalizeStatusCode.js","../lib/units/normalize/normalizeHeaders.js","../lib/units/normalize/index.js","../lib/units/isValid.js","../lib/units/validateMethod.js","../node_modules/url/node_modules/punycode/punycode.js","../node_modules/url/util.js","../node_modules/querystring/decode.js","../node_modules/querystring/encode.js","../node_modules/querystring/index.js","../node_modules/url/url.js","../node_modules/deep-equal/lib/keys.js","../node_modules/deep-equal/lib/is_arguments.js","../node_modules/deep-equal/index.js","../lib/units/validateURI.js","../lib/units/validateStatusCode.js","../node_modules/clone/clone.js","../lib/errors.js","../node_modules/amanda/releases/latest/amanda.js","../node_modules/tv4/tv4.js","../node_modules/foreach/index.js","../node_modules/json-pointer/index.js","../lib/utils/parseJson.js","../lib/meta-schema-v3.js","../lib/meta-schema-v4.js","../lib/validators/validation-errors.js","../lib/validators/json-schema.js","../lib/utils/get-type.js","../lib/utils/schema-v4-generator.js","../node_modules/caseless/index.js","../lib/utils/tv4-to-headers-message.js","../lib/validators/headers-json-example.js","../lib/validators/text-diff.js","../lib/validators/json-example.js","../lib/validators/index.js","../lib/units/validateHeaders.js","../node_modules/media-typer/index.js","../node_modules/content-type/index.js","../lib/units/validateBody.js","../lib/validate.js","../lib/index.js"],"sourcesContent":["function isset(value) {\n  return value != null;\n}\n\nmodule.exports = isset;\n","/**\n * Applies a given evolution schema to the given data Object.\n * Properties not present in schema are bypassed.\n * Properties not present in data are ignored.\n * @param {Object<string, any>} schema\n * @param {any[]|Object<string, any>} data\n * @returns {any[]|Object<string, any>}\n */\nconst evolve = (schema, { strict = false } = {}) => (data) => {\n  const dataType = typeof data;\n  const schemaType = typeof schema;\n  const isArray = Array.isArray(data);\n  const result = isArray ? [] : {};\n\n  if (!(schema !== null && schemaType === 'object' && !Array.isArray(schema))) {\n    throw new Error(\n      `Failed to evolve: expected transformations schema to be an object, but got: ${schemaType}`\n    );\n  }\n\n  if (dataType !== 'object') {\n    throw new Error(\n      `Failed to evolve: expected data to be an instance of array or object, but got: ${dataType}`\n    );\n  }\n\n  const reducer = (acc, key) => {\n    const value = data[key];\n    const transform = schema[key];\n    const transformType = typeof transform;\n\n    /* eslint-disable no-nested-ternary */\n    const nextValue =\n      transformType === 'function'\n        ? transform(value)\n        : transform && transformType === 'object'\n        ? evolve(transform)(value)\n        : value;\n    /* eslint-enable no-nested-ternary */\n\n    return isArray\n      ? acc.concat(nextValue)\n      : Object.assign({}, acc, { [key]: nextValue });\n  };\n\n  const nextData = Object.keys(data).reduce(reducer, result);\n\n  if (strict) {\n    // Strict mode ensures all keys in expected schema are present\n    // in the returned payload.\n    return Object.keys(schema)\n      .filter((expectedKey) => {\n        return !Object.prototype.hasOwnProperty.call(data, expectedKey);\n      })\n      .reduce(reducer, nextData);\n  }\n\n  return nextData;\n};\n\nmodule.exports = evolve;\n","/**\n * Accepts a fallback value and returns an ensuring function\n * that uses the fallback value in case real one is not provided.\n */\nconst otherwise = (fallbackValue) => (realValue) => {\n  return realValue || fallbackValue;\n};\n\nmodule.exports = otherwise;\n","const evolve = require('../../utils/evolve');\nconst otherwise = require('../../utils/otherwise');\n\nconst coercionMap = {\n  method: otherwise(''),\n  uri: otherwise(''),\n  headers: otherwise({}),\n  body: otherwise('')\n};\n\n// Coercion is strict by default, meaning it would populate\n// all the keys illegible for coercion on the given object,\n// even if those keys are missing.\nconst coerce = evolve(coercionMap, { strict: true });\n\n// There is also a weak variant of coercion that operates\n// only on the present keys in the given object.\n// This is used for coercing expected HTTP message, for example.\nconst coerceWeak = evolve(coercionMap);\n\nmodule.exports = {\n  coerce,\n  coerceWeak\n};\n","/**\n * Normalizes given method.\n * @param {string} method\n * @returns {string}\n */\nconst normalizeMethod = (method) => {\n  return method.trim().toUpperCase();\n};\n\nmodule.exports = { normalizeMethod };\n","/**\n * Normalizes given status code.\n * @param {string} value\n * @returns {string}\n */\nfunction normalizeStatusCode(value) {\n  return value == null ? '' : String(value).trim();\n}\n\nmodule.exports = { normalizeStatusCode };\n","const normalizeStringValue = (value) => {\n  return value.toLowerCase();\n};\n\n/**\n * Normalizes given headers.\n * @param {Object<string, string>} headers\n * @returns {Object<string, string>}\n */\nconst normalizeHeaders = (headers) => {\n  const headersType = typeof headers;\n  const isHeadersNull = headers == null;\n\n  if (isHeadersNull || headersType !== 'object') {\n    throw new Error(\n      `Can't validate: expected \"headers\" to be an Object, but got: ${\n        isHeadersNull ? 'null' : headersType\n      }.`\n    );\n  }\n\n  return Object.keys(headers).reduce(\n    (normalizedHeaders, name) =>\n      Object.assign({}, normalizedHeaders, {\n        [name.toLowerCase()]:\n          typeof headers[name] === 'string'\n            ? normalizeStringValue(headers[name])\n            : headers[name]\n      }),\n    {}\n  );\n};\n\nmodule.exports = { normalizeHeaders };\n","const evolve = require('../../utils/evolve');\nconst { normalizeMethod } = require('./normalizeMethod');\nconst { normalizeStatusCode } = require('./normalizeStatusCode');\nconst { normalizeHeaders } = require('./normalizeHeaders');\n\nconst normalize = evolve({\n  method: normalizeMethod,\n  statusCode: normalizeStatusCode,\n  headers: normalizeHeaders\n});\n\nmodule.exports = { normalize };\n","/**\n * Concludes HTTP message's component validity based on the given\n * list of validation errors.\n * @param {Object<string, any>} errors\n * @returns {boolean}\n */\nfunction isValidField({ errors }) {\n  return errors.length === 0;\n}\n\n/**\n * Returns a boolean indicating the given validation result as valid.\n * @param {Object<string, any>} fields\n * @returns {boolean}\n */\nfunction isValidResult(fields) {\n  return Object.values(fields).every(isValidField);\n}\n\nmodule.exports = {\n  isValidResult,\n  isValidField\n};\n","function validateMethod(expected, actual) {\n  const values = {\n    expected: expected.method,\n    actual: actual.method\n  };\n  const valid = values.actual === values.expected;\n  const errors = [];\n\n  if (!valid) {\n    errors.push({\n      message: `Expected method '${values.expected}', but got '${values.actual}'.`\n    });\n  }\n\n  return {\n    valid,\n    kind: 'text',\n    values,\n    errors\n  };\n}\n\nmodule.exports = { validateMethod };\n","/*! https://mths.be/punycode v1.3.2 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","exports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n","var supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n","var pSlice = Array.prototype.slice;\nvar objectKeys = require('./lib/keys.js');\nvar isArguments = require('./lib/is_arguments.js');\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n","const url = require('url');\nconst deepEqual = require('deep-equal');\n\n/**\n * Parses the given URI and returns the properties\n * elligible for comparison. Leaves out raw properties like \"path\"\n * that cannot be compared due to struct query parameters order.\n * @param {string} uri\n * @returns {Object<string, string | number>}\n */\nconst parseURI = (uri) => {\n  const { pathname, port, hash, query } = url.parse(uri, true);\n  return {\n    pathname,\n    port,\n    hash,\n    query\n  };\n};\n\nconst validateURI = (expected, actual) => {\n  const values = {\n    expected: expected.uri,\n    actual: actual.uri\n  };\n\n  // Parses URI to perform a correct comparison:\n  // - literal comparison of pathname\n  // - order-insensitive comparison of query parameters\n  const parsedExpected = parseURI(values.expected);\n  const parsedActual = parseURI(values.actual);\n\n  // Note the different order of arguments between\n  // \"validateURI\" and \"deepEqual\".\n  const valid = deepEqual(parsedActual, parsedExpected);\n  const errors = [];\n\n  if (!valid) {\n    errors.push({\n      message: `Expected URI '${values.expected}', but got '${values.actual}'.`\n    });\n  }\n\n  return {\n    valid,\n    kind: 'text',\n    values,\n    errors\n  };\n};\n\nmodule.exports = { validateURI };\n","/**\n * Validates given real and expected status codes.\n * @param {Object} real\n * @param {number} expected\n */\nfunction validateStatusCode(expected, actual) {\n  const values = {\n    expected: expected.statusCode,\n    actual: actual.statusCode\n  };\n  const valid = values.actual === values.expected;\n  const errors = [];\n\n  if (!valid) {\n    errors.push({\n      message: `Expected status code '${values.expected}', but got '${values.actual}'.`\n    });\n  }\n\n  return {\n    valid,\n    kind: 'text',\n    values,\n    errors\n  };\n}\n\nmodule.exports = { validateStatusCode };\n","var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","class MalformedDataError extends Error {}\nclass DataNotJsonParsableError extends MalformedDataError {}\nclass DataNotStringError extends MalformedDataError {}\nclass MalformedSchemaError extends Error {}\nclass SchemaNotJsonParsableError extends MalformedSchemaError {}\nclass UnknownValidatorError extends Error {}\nclass NotValidatableError extends Error {}\nclass NotEnoughDataError extends Error {}\nclass JsonSchemaNotValid extends Error {}\n\nmodule.exports = {\n  DataNotJsonParsableError,\n  SchemaNotJsonParsableError,\n  MalformedSchemaError,\n  MalformedDataError,\n  UnknownValidatorError,\n  DataNotStringError,\n  NotValidatableError,\n  NotEnoughDataError,\n  JsonSchemaNotValid,\n}\n","(function() {\n\n  /**\n   * Engines\n   * --------------------\n   */\n  var engines = {};\n\n/**\n * DetectType\n *\n * @param {object} input\n */\nvar detectType = function(input) {\n  return typeof input;\n};\n\n/**\n * Each\n *\n * Applies an iterator function to each item in an array or an object, in series.\n *\n * @param {object} list\n * @param {function} iterator\n * @param {function} callback\n */\nvar each = function(list, iterator, callback) {\n\n  /**\n   * SyncEach\n   *\n   * @param {object} list\n   * @param {function} iterator\n   */\n  var syncEach = function(list, iterator) {\n\n    // If the list is an array\n    if (isArray(list) && !isEmpty(list)) {\n      for (var i = 0, len = list.length; i < len; i++) {\n        iterator.apply(list, [i, list[i]]);\n      }\n    }\n\n    // If the list is an object\n    if (isObject(list) && !isEmpty(list)) {\n      for (var key in list) {\n        if (list.hasOwnProperty(key)) {\n          iterator.apply(list, [key, list[key]]);\n        }\n      }\n    }\n\n  };\n\n  /**\n   * AsyncEach\n   * @param {object} list\n   * @param {function} iterator\n   * @param {function} callback\n   */\n    var asyncEach = function(list, iterator, callback) {\n\n      var finished    = 0;\n      var started     = 0;\n      var hasCalled   = false;\n      var mayCallback = false;\n\n      var tryCallback = function() {\n        if (mayCallback && finished == started) {\n          // finished all functions, celebrate!\n            return callback();\n        }\n      }\n\n      /**\n       * AddToQueue\n       *\n       * @param {string} key\n       * @param {string|object} value\n       */\n      var addToQueue = function(key, value) {\n        var cb = function(error) {\n          // return early if already called back\n          if (hasCalled) return;\n\n          if (error) {\n            // if error, fail fast\n            hasCalled = true;\n            return callback(error);\n\n          }\n\n          finished++;\n            return tryCallback();\n\n        };\n\n        // execute right away\n        started++;\n        return iterator(key, value, cb);\n      }\n\n\n      // If the list is an array\n      if (isArray(list) && !isEmpty(list)) {\n        for (var i = 0, len = list.length; i < len; i++) {\n          addToQueue(i, list[i]);\n        }\n\n      // If the list is an object\n      } else if (isObject(list) && !isEmpty(list)) {\n        for (var key in list) {\n          if (list.hasOwnProperty(key)) {\n            addToQueue(key, list[key]);\n          }\n        }\n\n      // If the list is not an array or an object\n      } else {\n        return callback();\n      }\n\n      // Done adding items. Allow callback to fire\n      mayCallback = true\n      return tryCallback();\n    };\n\n    if (typeof callback === 'undefined') {\n      return syncEach.apply(this, arguments);\n    } else {\n      return asyncEach.apply(this, arguments);\n    }\n\n  };\n\n\n/**\n * Every\n *\n * @param {object} arr\n * @param {function} iterator\n */\nvar every = function(arr, iterator) {\n  return Array.prototype.every.apply(arr, [iterator]);\n};\n\n/**\n * Filter\n *\n * @param {object} arr\n * @param {function} iterator\n */\nvar filter = function(arr, iterator, context) {\n  return Array.prototype.filter.apply(arr, [iterator, context || this]);\n};\n\n/**\n * HasProperty\n *\n * @param {object} input\n */\nvar hasProperty = function(obj, property) {\n  return Object.prototype.hasOwnProperty.apply(obj, [property]);\n};\n\n/**\n * IsArray\n *\n * Returns true if the passed-in object is an array.\n *\n * @param {object} input\n */\nvar isArray = function(input) {\n  return Object.prototype.toString.call(input) === '[object Array]';\n};\n\n/**\n * IsBoolean\n *\n * @param {object} input\n */\nvar isBoolean = function(input) {\n  return typeof input === 'boolean';\n};\n\n/**\n * IsDefined\n *\n * @param {object} input\n */\nvar isDefined = function(input) {\n  return typeof input !== 'undefined';\n};\n\n/**\n * IsEmpty\n *  \n * Returns true if the passed-in object is empty.\n *\n * @param {object} input\n */\nvar isEmpty = function(input) {\n\n  if (isNumber(input)) {\n    return false;\n  }\n\n  if (input === null) {\n    return true;\n  }\n\n  // If the passed-in object is an array or a string\n  if (isArray(input) || typeof input === 'string') {\n    return input.length === 0;\n  }\n\n  // If the passed-in object is an object\n  if (isObject(input)) {\n    for (var key in input) {\n      if (hasOwnProperty.call(input, key)) return false;\n    }\n  }\n\n  return true;\n\n};\n\n/**\n * IsEqual\n *\n * @param {object} obj1\n * @param {object} obj2\n */\nvar isEqual = function(obj1, obj2) {\n\n  /**\n   * Arrays\n   */\n  if (isArray(obj1, obj2)) {\n\n    if (obj1.length !== obj2.length) {\n      return false;\n    }\n\n    return every(obj1, function(value, index, context) {\n      return obj2[index] === value;\n    });\n\n  }\n\n  /**\n   * Objects\n   */\n  if (isObject(obj1, obj2)) {\n\n    var keys1 = keys(obj1),\n        keys2 = keys(obj2);\n\n    if (!isEqual(keys1, keys2)) {\n      return false;\n    }\n\n    for (key in obj1) {\n      if (!obj2[key] || obj1[key] !== obj2[key]) {\n        return false;\n      }\n    }\n\n    return true;\n\n  }\n\n  return false;\n\n};\n\n/**\n * IsFunction\n *\n * @param {object} input\n */\nvar isFunction = function(input) {\n  return typeof input === 'function';\n};\n\n/**\n * IsInteger\n *\n * @param {object} input\n */\nvar isInteger = function(input) {\n  return isNumber(input) && input % 1 === 0;\n};\n\n/**\n * IsNull\n *\n * @param {object} input\n */\nvar isNull = function(input) {\n  return input === null;\n};\n\n/**\n * IsNumber\n *\n * @param {object} input\n */\nvar isNumber = function(input) {\n  return typeof input === 'number';\n};\n\n/**\n * IsObject\n *\n * Returns true if the passed-in object is an object.\n *\n * @param {object} input\n */\nvar isObject = function(input) {\n  return Object.prototype.toString.call(input) === '[object Object]';\n};\n\n/**\n * IsString\n *\n * @param {object} input\n */\nvar isString = function(input) {\n  return typeof input === 'string';\n};\n\n/**\n * IsUndefined\n *\n * @param {object} input\n */\nvar isUndefined = function(input) {\n  return typeof input === 'undefined';\n};\n\n/**\n * Keys\n *\n * @param {object} obj\n */\nvar keys = function(obj) {\n  return Object.keys(obj);\n};\n\n/**\n * Merge\n *\n * Copy all of the properties in the source objects over to the destination object.\n *\n * @param {object} obj1\n * @param {object} obj2\n */\nvar merge = function(obj1, obj2) {\n  for (var key in obj2) {\n    if (obj2.hasOwnProperty(key) && !obj1.hasOwnProperty(key)) {\n      obj1[key] = obj2[key];\n    }\n  }\n  return obj1;\n};\n\n/**\n * Pluck\n *\n * Extracts a list of property values.\n *\n * @param {object} list\n * @param {string} propertyName\n */\nvar pluck = function(list, propertyName) {\n  var output = [];\n  for (var i = 0, len = list.length; i < len; i++) {\n    var property = list[i][propertyName];\n    if (output.indexOf(property) === -1) {\n      output.push(property);\n    }\n  }\n  return output;\n};\n\n/**\n * ReturnTrue\n */\nvar returnTrue = function() {\n  return true;\n};\n\n/**\n * Some\n *\n * @param {object} arr\n * @param {function} iterator\n */\nvar some = function(arr, iterator) {\n  return Array.prototype.some.apply(arr, [iterator]);\n};\n\n(function() {\n\n/**\n * Validation\n *\n * @constructor\n * @param {object} options\n */\nvar Validation = function(options) {\n\n  // Save a reference to the this\n  var self = this;\n\n  var defaultOptions = {\n    singleError: true,\n    messages: errorMessages,\n    cache: false\n  };\n\n  each(defaultOptions, function(key, value) {\n\n    if (isObject(value) && options[key]) {\n      self[key] = merge(options[key], defaultOptions[key]);\n\n    } else if (isObject(value) && !options[key]) {\n      self[key] = merge ({}, defaultOptions[key]);\n\n    } else {\n      self[key] = (isDefined(options[key])) ? options[key] : defaultOptions[key];\n    }\n\n  });\n\n  this.errors = new ValidationError(this);\n\n};\n\n/**\n * Attributes\n * --------------------\n */\nValidation.prototype.attributes = {};\n\n/**\n * AddAttribute\n *\n * @param {string} attributeName\n * @param {function} attributeFn\n */\nValidation.prototype.addAttribute = function(attributeName, attributeFn) {\n  return Validation.prototype.attributes[attributeName] = attributeFn;\n};\n\n/**\n * AddAttributeConstructor\n *\n * @param {string} attributeName\n * @param {function} attributeConstructor\n */\nValidation.prototype.addAttributeConstructor = function(attributeName, attributeConstructor) {\n  return Validation.prototype.attributes[attributeName] = attributeConstructor();\n};\n\n/**\n * AdditionalProperties\n */\nvar additionalPropertiesAttribute = function additionalProperties(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n  var self = this;\n\n  /**\n   * {\n   *   additionalProperties: true,\n   *   ...\n   * }\n   */\n  if (attributeValue === true) {\n    return callback();\n  }\n\n  // Filter the forbidden properties\n  var propertyKeys = keys(propertyValue);\n  var forbiddenProperties = filter(propertyKeys, function(key) {\n    return !propertyAttributes.properties[key];\n  });\n\n  if (isEmpty(forbiddenProperties)) {\n    return callback();\n  }\n\n  /**\n   * {\n   *   additionalProperties: false,\n   *   ...\n   * }\n   */\n  if (attributeValue === false) {\n\n    forbiddenProperties.forEach(function(forbiddenProperty) {\n      this.addError({\n        property: this.joinPath(property, forbiddenProperty),\n        propertyValue: propertyValue[forbiddenProperty]\n      });\n    }, this);\n\n    return callback();\n\n  }\n\n  /**\n   * {\n   *   additionalProperties: {\n   *     type: 'string',\n   *     ...\n   *   },\n   *   ...\n   * }\n   */\n  if (isObject(attributeValue)) {\n    return each(forbiddenProperties, function(index, key, callback) {\n      return self.validateSchema(\n        propertyValue[key],\n        attributeValue,\n        property + key,\n        callback\n      );\n    }, callback);\n  }\n\n};\n\n// Export\nValidation.prototype.addAttribute('additionalProperties', additionalPropertiesAttribute);\n\n/**\n * DivisibleBy\n */\nvar divisibleByAttribute = function divisibleBy(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n  if (attributeValue === 0) {\n    this.addError('The value of this attribute should not be 0.');\n    return callback();\n  }\n\n  if (isNumber(propertyValue) && (propertyValue % attributeValue !== 0)) {\n    this.addError();\n  }\n\n  return callback();\n\n};\n\n// Export\nValidation.prototype.addAttribute('divisibleBy', divisibleByAttribute);\n\n/**\n * Enum\n */\nvar enumAttribute = function(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n  if (attributeValue.indexOf(propertyValue) === -1) {\n    this.addError();\n  }\n\n  return callback();\n\n};\n\n// Export\nValidation.prototype.addAttribute('enum', enumAttribute);\n\n/**\n * Except\n */\nvar exceptAttribute = function except(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n  if (attributeValue.indexOf(propertyValue) !== -1) {\n    this.addError();\n  }\n\n  return callback();\n\n};\n\n// Export\nValidation.prototype.addAttribute('except', exceptAttribute);\n\n/**\n * Format\n */\nValidation.prototype.addAttributeConstructor('format', function formatConstructor() {\n\n  // Ulome si referenci na this\n  var self = this;\n\n  /**\n   * Formats\n   */\n  var formats = {\n\n    /**\n     * date-time\n     *\n     * This should be a date in ISO 8601 format of YYYY-MM-DDThh:mm:ssZ in UTC\n     * time or with the timezone suffix.\n     */\n    'date-time': {\n      type: 'string',\n      pattern: /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d{1,})?([\\-\\+]\\d{2}:\\d{2}|Z)?$/\n    },\n\n    /**\n     * date\n     *\n     * This should be a date in the format of YYYY-MM-DD. It is recommended that you\n     * use the \"date-time\" format instead of \"date\" unless you need to transfer only the date part.\n     */\n    date: function(input) {\n      if (isString(input)) {\n        return input.match(/^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/);\n      }\n      return Object.prototype.toString.call(input) === '[object Date]';\n    },\n\n    /**\n     * time\n     *\n     * This should be a time in the format of hh:mm:ss.\n     */\n    'time': {\n      type: 'string',\n      pattern: /^\\d{2}:\\d{2}:\\d{2}$/\n    },\n\n    /**\n     * utc-milisec\n     *\n     * This should be the difference, measured in milliseconds, between the specified\n     * time and midnight, 00:00 of January 1, 1970 UTC.  The value\n     * should be a number (integer or float).\n     */\n    'utc-milisec': {\n      type: 'number'\n    },\n\n    /**\n     * regex\n     *\n     * This should be a time in the format of hh:mm:ss.\n     */\n    regex: function(input) {\n      return input && input.test && input.exec;\n    },\n\n    /**\n     * color\n     *\n     * This is a CSS color (like \"#FF0000\" or \"red\"), based on CSS 2.1.\n     */\n    'color': {\n      type: 'string'\n    },\n\n    /**\n     * style\n     *\n     * This is a CSS style definition (like \"color: red; background-color:#FFF\"), based on CSS 2.1.\n     */\n    'style': {\n      type: 'string'\n    },\n\n    /**\n     * phone\n     *\n     * This should be a phone number.\n     */\n    'phone': {\n      type: 'number'\n    },\n\n    /**\n     * uri\n     *\n     * This value should be a URI.\n     */\n    'uri': {\n      type: 'string',\n      pattern: /^[^\\s]+$/\n    },\n\n    /**\n     * email\n     *\n     * This should be an email address.\n     */\n    'email': {\n      type: 'string',\n      pattern: /^(?:[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$/\n    },\n\n    /**\n     * ip-address\n     *\n     * This should be an ip version 4 address.\n     */\n    'ip-address': {\n      type: 'string',\n      pattern: /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/\n    },\n\n    /**\n     * ipv6\n     *\n     * This should be an ip version 6 address.\n     */\n    'ipv6': {\n      type: 'string',\n      pattern: /(?:(?:[a-f\\d]{1,4}:)*(?:[a-f\\d]{1,4}|\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})|(?:(?:[a-f\\d]{1,4}:)*[a-f\\d]{1,4})?::(?:(?:[a-f\\d]{1,4}:)*(?:[a-f\\d]{1,4}|\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}))?)/\n    },\n\n    /**\n     * host-name\n     *\n     * This should be a host-name.\n     */\n    'host-name': {\n      type: 'string'\n    }\n\n  };\n\n  /**\n   * CustomFormats\n   * --------------------\n   */\n  formats.alpha = {\n    required: true,\n    type: 'string',\n    pattern: /^[a-zA-Z]+$/\n  };\n\n  formats.alphanumeric = {\n    required: true,\n    type: ['string', 'number'],\n    pattern: /^[a-zA-Z0-9]+$/\n  };\n\n  formats.decimal = function(input) {\n    if (!isNumber(input)) return false;\n    return (input + '').match(/^[0-9]+(\\.[0-9]{1,2})?$/);\n  };\n\n  formats.percentage = {\n    required: true,\n    type: ['string', 'number'],\n    pattern: /^-?[0-9]{0,2}(\\.[0-9]{1,2})?$|^-?(100)(\\.[0]{1,2})?$/,\n    minimum: -100,\n    maximum: 100\n  };\n\n  formats.port = {\n    required: true,\n    type: ['string', 'number'],\n    pattern: /\\:\\d+/\n  };\n\n  /**\n   * Aliases\n   * --------------------\n   */\n  var aliases = {\n    url: 'uri',\n    ip: 'ip-address',\n    ipv4: 'ip-address',\n    host: 'host-name',\n    hostName: 'host-name'\n  };\n\n  // Apply aliases\n  each(aliases, function(alias, format) {\n    formats[alias] = formats[format];\n  });\n\n  // Export\n  return function format(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n    /**\n     * {\n     *   format: {\n     *     type: 'string',\n     *     pattern: /abc/\n     *     ...\n     *   }\n     *   ...\n     * }\n     */\n    if (isObject(attributeValue)) {\n      return this.validateProperty(property, propertyValue, attributeValue, callback);\n    }\n\n    /**\n     * {\n     *   format: 'lorem ipsum dolor',\n     *   ...\n     * }\n     */\n    if (isString(attributeValue) && !hasProperty(formats, attributeValue)) {\n      this.addError('The format ' + attributeValue + ' is not supported.');\n      return callback();\n    }\n\n    /**\n     * {\n     *   format: 'phone',\n     *   ...\n     * }\n     */\n    if (isString(attributeValue)) {\n\n      var fn = formats[attributeValue];\n\n      if (isFunction(fn)) {\n        var noError = fn(propertyValue);\n        if (!noError) {\n          this.addError();\n        }\n        return callback();\n      }\n\n      if (isObject(fn)) {\n        return this.validateProperty(property, propertyValue, fn, callback);\n      }\n\n    }\n\n  };\n\n});\n\n\n/**\n * Length\n */\nvar lengthAttribute = function length(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n  if (isString(propertyValue) && propertyValue.length !== attributeValue) {\n    this.addError();\n  }\n\n  return callback();\n\n};\n\n// Export\nValidation.prototype.addAttribute('length', lengthAttribute);\n\n/**\n * Maximum\n */\nvar maximumAttribute = function maximum(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n  if (isNumber(propertyValue)) {\n    if ((propertyAttributes.exclusiveMaximum && propertyValue >= attributeValue) || (propertyValue > attributeValue)) {\n      this.addError();\n    }\n  }\n\n  return callback();\n\n};\n\n// Export\nValidation.prototype.addAttribute('maximum', maximumAttribute);\n\n/**\n * MaxItems\n */\nvar maxItemsAttribute = function maxItems(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n  if (isArray(propertyValue) && propertyValue.length > attributeValue) {\n    this.addError();\n  }\n\n  return callback();\n\n};\n\n// Export\nValidation.prototype.addAttribute('maxItems', maxItemsAttribute);\n\n/**\n * MaxLength\n */\nvar maxLengthAttribute = function maxLength(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n  if (isString(propertyValue) && propertyValue.length > attributeValue) {\n    this.addError();\n  }\n\n  return callback();\n\n};\n\n// Export\nValidation.prototype.addAttribute('maxLength', maxLengthAttribute);\n\n/**\n * Minimum\n */\nvar minimumAttribute = function minimum(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n  if (isNumber(propertyValue)) {\n    if ((propertyAttributes.exclusiveMinimum && propertyValue <= attributeValue) || (propertyValue < attributeValue)) {\n      this.addError();\n    }\n  }\n\n  return callback();\n\n};\n\n// Export\nValidation.prototype.addAttribute('minimum', minimumAttribute);\n\n\n/**\n * MinItems\n */\nvar minItems = function minItems(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n  if (isArray(propertyValue) && propertyValue.length < attributeValue) {\n    this.addError();\n  }\n\n  return callback();\n\n};\n\n// Export\nValidation.prototype.addAttribute('minItems', minItems);\n\n/**\n * MinLength\n */\nvar minLengthAttribute = function minLength(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n  if (isString(propertyValue) && propertyValue.length < attributeValue) {\n    this.addError();\n  }\n\n  return callback();\n\n};\n\n// Export\nValidation.prototype.addAttribute('minLength', minLengthAttribute);\n\n/**\n * Pattern\n */\nvar patternAttribute = function pattern(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n  if (isString(propertyValue) && !propertyValue.match(attributeValue)) {\n    this.addError();\n  }\n\n  return callback();\n\n};\n\n// Export\nValidation.prototype.addAttribute('pattern', patternAttribute);\n\n(function() {\n\n  /**\n   * PatternProperties\n   */\n  var attribute = function patternProperties(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n    // Saves a reference to this\n    var self = this;\n\n    // Skip\n    if (isEmpty(attributeValue)) {\n      return callback();\n    }\n\n    var matches = {};\n    var patterns = keys(attributeValue);\n\n    each(propertyValue, function(key, value) {\n\n      each(patterns, function(index, pattern) {\n        if (key.match(new RegExp(pattern))) {\n          matches[key] = attributeValue[pattern];\n        }\n      });\n\n    });\n\n    if (isEmpty(matches)) {\n      return callback();\n    }\n\n    each(matches, function(propertyName, propertySchema, callback) {\n      return self.validateSchema(\n        propertyValue[propertyName],\n        propertySchema,\n        self.joinPath(property, propertyName),\n        callback\n      );\n    }, callback);\n\n  };\n\n  // Export\n  Validation.prototype.addAttribute('patternProperties', attribute);\n\n}());\n\n/**\n * Required\n */\nvar requiredAttribute = function required(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n  if (attributeValue) {\n\n    var undefinedCondition = isUndefined(propertyValue);\n\n    if (undefinedCondition) {\n      this.addError();\n    }\n\n  }\n\n  return callback();\n\n};\n\n// Export\nValidation.prototype.addAttribute('required', requiredAttribute);\n\n\n/**\n * Type\n */\nvar typeConstructor = function typeConstructor() {\n\n  /**\n   * Types\n   */\n  var types = {\n    'string': isString,\n    'number': isNumber,\n    'function': isFunction,\n    'boolean': isBoolean,\n    'object': isObject,\n    'array': isArray,\n    'integer': isInteger,\n    'int': isInteger,\n    'null': isNull,\n    'any': returnTrue\n  };\n\n  // Export\n  return function type(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n    /**\n     * {\n     *   type: ['string', 'number']\n     * }\n     */\n    if (isArray(attributeValue)) {\n\n      var typesSupported;\n\n      typesSupported = every(attributeValue, function(type) {\n        return hasProperty(types, type);\n      });\n\n      if (!typesSupported) {\n        this.addError('One of the following types ' + attributeValue.join(',') + ' is not supported.');\n        return callback();\n      }\n\n\n      var noError = attributeValue.some(function(type) {\n        return types[type](propertyValue);\n      });\n\n      if (!noError) {\n        this.addError();\n      }\n\n      return callback();\n\n    /**\n     * {\n     *   type: 'string'\n     * }\n     */\n    } else {\n\n      if (!hasProperty(types, attributeValue)) {\n        this.addError('Type ' + attributeValue + ' is not supported.');\n      } else {\n        var testSuccess = types[attributeValue](propertyValue);\n        if (!testSuccess) {\n          this.addError();\n        }\n      }\n\n      return callback();\n\n    }\n\n  };\n\n};\n\n// Export\nValidation.prototype.addAttributeConstructor('type', typeConstructor);\n\n(function() {\n\n  /**\n   * UniqueItems\n   */\n  var attribute = function uniqueItems(property, propertyValue, attributeValue, propertyAttributes, callback) {\n\n    var self =  this;\n\n    each(propertyValue, function(index, value) {\n\n      if (isString(value)) {\n        if ((propertyValue.indexOf(value) < index)) {\n          self.addError();\n        }\n      }\n\n      if (isObject(value) || isArray(value)) {\n        propertyValue.forEach(function(subValue, subIndex) {\n\n          if (subIndex !== index) {\n            if (isEqual(value, subValue)) {\n              self.addError({\n                property: self.joinPath(property, subIndex)\n              });\n            }\n          }\n\n        });\n      }\n\n    });\n\n    return callback();\n\n  };\n\n  // Export\n  Validation.prototype.addAttribute('uniqueItems', attribute);\n\n}());\n\n\n/**\n * Error\n *\n * @constructor\n */\nvar ValidationError = function(parent) {\n\n  this.length = 0;\n  \n  this.errorMessages = parent.messages;\n\n};\n\nValidationError.prototype.renderErrorMessage = function(error) {\n\n  var errorMessage = this.errorMessages[error.attributeName];\n\n  if (errorMessage && isFunction(errorMessage)) {\n    return errorMessage(\n      error.property,\n      error.propertyValue,\n      error.attributeValue\n    );\n  }\n\n  if (errorMessage && isString(errorMessage)) {\n\n    [\n      'property',\n      'propertyValue',\n      'attributeValue'\n    ].forEach(function(placeholder) {\n      errorMessage = errorMessage.replace(new RegExp('{{' + placeholder + '}}', 'g'), error[placeholder]);\n    });\n\n    // Deprecated\n    errorMessage = errorMessage.replace(/{{validator}}/g, error['attributeValue']);\n\n    return errorMessage.replace(/\\s+/g, ' ');\n\n  }\n\n  return error.message;\n\n};\n\nValidationError.prototype.push = function(error) {\n\n  this[this.length] = {\n\n    property: error.property,\n    propertyValue: error.propertyValue,\n    attributeName: error.attributeName,\n    attributeValue: error.attributeValue,\n    message: this.renderErrorMessage(error),\n\n    // Deprecated\n    validator: error.attributeName,\n    validatorName: error.attributeName,\n    validatorValue: error.attributeValue\n\n  };\n\n  this.length += 1;\n\n};\n\n/**\n * GetProperties\n */\nValidationError.prototype.getProperties = function() {\n  return pluck(this, 'property');\n};\n\n/**\n * GetMessages\n */\nValidationError.prototype.getMessages = function() {\n  return pluck(this, 'message');\n};\n\n/**\n * Messages\n * --------------------\n */\nvar vowels = \"aeiou\",\nerrorMessages = {\n\n  /**\n   * Maximum\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  required: function(property, propertyValue, attributeValue) {\n    return 'The ' + property + ' property is required.';\n  },\n\n  /**\n   * MinLength\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  minLength: function(property, propertyValue, attributeValue) {\n    return [\n      'The ' + property + ' property must be at least ' + attributeValue + ' characters.',\n      'The length of the property is ' + propertyValue.length + '.'\n    ].join(' ');\n  },\n\n  /**\n   * MaxLength\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  maxLength: function(property, propertyValue, attributeValue) {\n    return [\n      'The ' + property + ' property must not exceed ' + attributeValue + ' character' + (attributeValue > 1 ? 's' : '')  + '.',\n      'The length of the property is ' + propertyValue.length + '.'\n    ].join(' ');\n  },\n\n  /**\n   * MaxLength\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  length: function(property, propertyValue, attributeValue) {\n    return [\n      'The ' + property + ' property must be exactly ' + attributeValue + ' character' + (attributeValue > 1 ? 's' : '')  + '.',\n      'The length of the property is ' + propertyValue.length + '.'\n    ].join(' ');\n  },\n\n  /**\n   * Format\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  format: function(property, propertyValue, attributeValue) {\n    return [\n      'The ' + property + ' property must be a/an ' + attributeValue + '.',\n      'The current value of the property is ' + propertyValue  + ''\n    ].join(' ');\n  },\n\n  /**\n   * Type\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  type: function(property, propertyValue, attributeValue) {\n    return [\n      'The ' + property + ' property must be ' + (vowels.indexOf(attributeValue[0]) > -1 ? 'an' : 'a') + ' ' + attributeValue + '.',\n      'The type of the property is ' + detectType(propertyValue)  + ''\n    ].join(' ');\n  },\n\n  /**\n   * Except\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  except: function(property, propertyValue, attributeValue) {\n    return;\n  },\n\n  /**\n   * Minimum\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  minimum: function(property, propertyValue, attributeValue) {\n    return [\n      'The minimum value of the ' + property + ' must be ' + attributeValue + '.',\n      'The current value of the property is ' + propertyValue  + ''\n    ].join(' ');\n  },\n\n  /**\n   * Maximum\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  maximum: function(property, propertyValue, attributeValue) {\n    return [\n      'The maximum value of the ' + property + ' must be ' + attributeValue + '.',\n      'The current value of the property is ' + propertyValue  + '.'\n    ].join(' ');\n  },\n\n  /**\n   * Maximum\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  pattern: function(property, propertyValue, attributeValue) {\n    return 'The ' + property + ' does not match the ' + attributeValue + ' pattern.';\n  },\n\n  /**\n   * MaxItems\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  maxItems: function(property, propertyValue, attributeValue) {\n    return [\n      'The ' + property + ' property must not contain more than ' + attributeValue + ' items.',\n      'Currently it contains ' + propertyValue.items  + ' items.'\n    ].join(' ');\n  },\n\n  /**\n   * MinItems\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  minItems: function(property, propertyValue, attributeValue) {\n    return [\n      'The ' + property + ' property must contain at least ' + attributeValue + ' items.',\n      'Currently it contains ' + propertyValue.items  + ' items.'\n    ].join(' ');\n  },\n\n  /**\n   * Maximum\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  divisibleBy: function(property, propertyValue, attributeValue) {\n    return 'The ' + property + ' is not divisible by ' + attributeValue + '.';\n  },\n\n  /**\n   * Maximum\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  uniqueItems: function(property, propertyValue, attributeValue) {\n    return 'All items in the ' + property + ' property must be unique.';\n  },\n\n  /**\n   * Enum\n   *\n   * @param {string} property\n   * @param {any} propertyValue\n   * @param {string} attributeValue\n   */\n  'enum': function(property, propertyValue, attributeValue) {\n    return 'Value of the ' + property + ' must be ' + attributeValue.join(' or ') + '.';\n  }\n\n};\n\n/**\n * GetProperty\n *\n * @param {string} property\n * @param {object} source\n */\nValidation.prototype.getProperty = function(property, source) {\n  if (source) {\n    return (isDefined(source[property])) ? source[property] : undefined;\n  } else {\n    return undefined;\n  }\n};\n\n/**\n * JoinPath\n *\n * @param {string} path\n * @param {string} property\n */\nValidation.prototype.joinPath = function(path, property) {\n\n    path = path || [];\n\n    //copy to avoid sharing 1 instance\n    path = JSON.parse(JSON.stringify(path))\n\n    // Converts the property to a string\n    property = property + '';\n\n    path.push(property);\n    return path;\n\n};\n\n\n/**\n * Validation.validate\n *\n * @param {object} instance\n * @param {object} schema\n * @param {boolean} singleError\n * @param {function} callback\n */\nValidation.prototype.validate = function(instance, schema, callback) {\n\n  // Save a reference to the this\n  var self = this;\n\n  this.instance = instance;\n  this.schema = schema;\n\n  /**\n   * Basic Types\n   */\n  var basicTypes = [\n    'string',\n    'number',\n    'function',\n    'boolean',\n    'integer',\n    'int',\n    'null'\n  ];\n\n  /**\n   * Object Types\n   */\n  var objectTypes = [\n    'object',\n    'array'\n  ];\n\n  /**\n   * CallbackProxy\n   */\n  var callbackProxy = function() {\n    if (self.errors.length !== 0) {\n      return callback(self.errors);\n    } else {\n      return callback();\n    }\n  };\n\n  /**\n   * {\n   *   type: 'string',\n   *   ...\n   * }\n   */\n  if (basicTypes.indexOf(schema.type) !== -1) {\n    return this.validateProperty(undefined, instance, schema, callbackProxy);\n  }\n\n  /**\n   * {\n   *   type: 'object',\n   *   ...\n   * }\n   */\n  if (objectTypes.indexOf(schema.type) !== -1) {\n\n    if (isString(instance)) {\n      try {\n        instance = JSON.parse(instance);\n      } catch(parseError) {\n\n      }\n    }\n\n    return this.validateSchema(instance, schema, '', callbackProxy);\n\n  }\n\n  /**\n   * {\n   *   type: ???,\n   *   ...\n   * }\n   */\n  if (schema.type === 'any' || !schema.type) {\n\n    if (isString(instance)) {\n      try {\n        instance = JSON.parse(instance);\n        return this.validateSchema(instance, schema, '', callbackProxy);\n      } catch(parseError2) {\n\n      }\n    }\n\n    if (isObject(instance) || isArray (instance)) {\n      return this.validateSchema(instance, schema, '', callbackProxy); \n    }\n\n    return this.validateProperty(undefined, instance, schema, callbackProxy);\n\n  }\n\n};\n\n/**\n * Validation.validateItems\n *\n * @param {object} instance\n * @param {object} schema\n * @param {string} path\n * @param {function} callback\n */\nValidation.prototype.validateItems = function(instance, schema, path, callback) {\n\n  // Save a reference to the this\n  var self = this;\n\n  /**\n   * {\n   *   type: 'array'\n   *   items: [\n   *     {\n   *       type: 'string'\n   *     },\n   *     {\n   *       type: 'number'\n   *     },\n   *     ...\n   *   ],\n   *   ...\n   * }\n   */\n\n  if (isUndefined(instance)) {\n    instance = []\n  }\n\n  if (isArray(schema.items)) {\n\n    // Additional items are allowed\n    if (isUndefined(schema.additionalItems) || schema.additionalItems === true) {\n      return each(schema.items, function(itemIndex, itemSchema, callback) {\n        return self.validateSchema(\n          instance[itemIndex],\n          itemSchema,\n          self.joinPath(path, itemIndex),\n          callback\n        );\n      }, callback);\n    }\n\n    return each(instance, function(itemIndex, itemValue, callback) {\n\n      // The additionalItems attribute is a schema that defines\n      // the schema of the additional items\n      if (schema.items[itemIndex] || isObject(schema.additionalItems)) {\n        return self.validateSchema(\n          itemValue,\n          schema.items[itemIndex],\n          self.joinPath(path, itemIndex),\n          callback\n        );\n      }\n\n      // Additional items are disallowed\n      if (schema.additionalItems === false) {\n        self.errors.push({\n          property: self.joinPath(path, itemIndex),\n          propertyValue: itemValue,\n          attributeName: 'additionalItems',\n          attributeValue: false\n        });\n        return callback();\n      }\n\n    }, callback);\n\n  }\n\n  /**\n   * {\n   *   type: 'array'\n   *   items: {\n   *     type: 'string'\n   *   },\n   *   ...\n   * }\n   */\n  if (isObject(schema.items) && instance && !isEmpty(instance)) {\n    return each(instance, function(itemIndex, itemValue, callback) {\n      return self.validateSchema(\n        instance[itemIndex],\n        schema.items,\n        self.joinPath(path, itemIndex),\n        callback\n      );\n    }, callback);\n  } else {\n    return callback();\n  }\n\n};\n\n/**\n * Validation.validateProperties\n *\n * @param {object} instance\n * @param {object} schema\n * @param {string} path\n * @param {function} callback\n */\nValidation.prototype.validateProperties = function(instance, schema, path, callback) {\n  \n  // Save a reference to the this\n  var self = this;\n\n  // Goes\n  return each(schema.properties, function(property, propertyAttributes, callback) {\n\n    var isObject = propertyAttributes.type === 'object' && propertyAttributes.properties,\n        isArray =  propertyAttributes.type === 'array';\n\n    // Get the value of property (instance[property])\n    var propertyValue = self.getProperty(property, instance);\n    var propertyPath = self.joinPath(path, property);\n\n    /**\n     * {\n     *   type: 'object',\n     *   properties: {\n     *     user: {\n     *       type: 'object',\n     *       properties: {\n     *         ...\n     *       }\n     *     }\n     *   }\n     * }\n     */\n    if (isObject || isArray)  {\n      return self.validateSchema(\n        propertyValue,\n        schema.properties[property],\n        propertyPath,\n        callback\n      );\n    } else {\n      return self.validateProperty(\n        propertyPath,\n        propertyValue,\n        propertyAttributes,\n        callback\n      );\n    }\n\n  }, callback);\n\n};\n\n/**\n * Validation.validateProperty\n *\n * @param {string} propertyName\n * @param {object} propertyAttributes\n * @param {string|object} propertyValue\n * @param {boolean} singleError\n * @param {function} callback\n */\nValidation.prototype.validateProperty = function(property, propertyValue, propertyAttributes, callback) {\n\n  // Save a reference to the this\n  var self = this;\n\n  var context = {};\n\n  [\n    'validateItems',\n    'validateProperties',\n    'validateSchema',\n    'validateProperty',\n    'getProperty',\n    'attributes',\n    'errors',\n    'joinPath'\n  ].forEach(function(key) {\n    context[key] = this[key];\n  }, self);\n\n  /**\n   * Iterator\n   *\n   * @param {string} attributeName\n   * @param {function} attributeFn\n   * @param {function} callback\n   */\n  var iterator = function(attributeName, attributeFn, callback) {\n\n    var lastLength = self.errors.length;\n\n    // Overwrite the addError method\n    context.addError = function(message) {\n\n      if (isObject(message)) {\n        property = message.property || property\n\n        if (!Array.isArray(property)) {\n            property = [property]\n        }\n\n        return self.errors.push({\n          property: property,\n          propertyValue: message.propertyValue || propertyValue,\n          attributeName: message.attributeName || attributeName,\n          attributeValue: message.attributeValue || propertyAttributes[attributeName],\n          message: message.message || undefined\n        });\n      }\n\n      if (!Array.isArray(property)) {\n            property = [property]\n        }\n\n      return self.errors.push({\n        property: property,\n        propertyValue: propertyValue,\n        attributeName: attributeName,\n        attributeValue: propertyAttributes[attributeName],\n        message: message\n      });\n\n    };\n\n    /**\n     * OnComplete\n     */\n    var onComplete = function(error) {\n\n      // Deprecated\n      if (error === true || isString(error)) {\n        context.addError(error);\n        return callback(true);\n      };\n\n      if (self.errors.length > lastLength && self.singleError) {\n        return callback(true);\n      } else {\n        return callback();\n      }\n\n    };\n\n    if (isDefined(propertyAttributes[attributeName])) {\n      return attributeFn.apply(context, [\n        property,\n        propertyValue,\n        propertyAttributes[attributeName],\n        propertyAttributes,\n        onComplete\n      ]);\n    } else {\n      return callback();\n    }\n\n  };\n\n  // If it's not a required param and it's empty, skip\n  if (propertyAttributes.required !== true && isUndefined(propertyValue)) {\n    return callback();\n  }\n  \n  // Validate the property  \n  return each(self.attributes, iterator, callback);\n\n};\n\n\n/**\n * Validation.validateSchema\n *\n * @param {object} instance\n * @param {object} schema\n * @param {string} path\n * @param {function} callback\n */\nValidation.prototype.validateSchema = function(instance, schema, path, callback) {\n\n  var self = this;\n\n  return self.validateProperty(path, instance, schema, function(error) {\n\n    /**\n     * {\n     *   type: 'object',\n     *   properties: {\n     *     ... \n     *   }\n     * }\n     */\n    if (schema.properties) {\n      return self.validateProperties(\n        instance,\n        schema,\n        path,\n        callback\n      );\n\n    /**\n     * {\n     *   type: 'array',\n     *   items: {\n     *     type: 'string'\n     *     ... \n     *   }\n     * }\n     */\n    } else if (schema.items) {\n      return self.validateItems(\n        instance,\n        schema,\n        path,\n        callback\n      );\n\n    /**\n     * {\n     *   type: 'array'\n     * }\n     *  or \n     * {\n     *   type: 'object'\n     * }\n     */\n    } else {\n      return callback();\n    }\n\n  });\n\n};\n\n  \n  /**\n   * Export\n   * --------------------\n   */\n  engines.json = (function() {\n\n    /**\n     * Cache\n     */\n    var cache = [];\n    var cacheIndex = {};\n\n    return {\n\n      /**\n       * Validate\n       *\n       * @param {object} instance\n       * @param {object} schema\n       * @param {object} options\n       * @param {function} callback\n       */\n      validate: function(instance, schema, options, callback) {\n        if (typeof options === 'function') {\n          callback = options;\n          options = {};\n        }\n        return (new Validation(options)).validate(instance, schema, callback);\n      },\n\n      /**\n       * AddAttribute\n       *\n       * @param {string} attributeName\n       * @param {function} attributeFn\n       */\n      addAttribute: function(attributeName, attributeFn) {\n        return Validation.prototype.addAttribute.apply(Validation, arguments);\n      },\n\n      /**\n       * AddAttributeConstructor\n       *\n       * @param {string} attributeName\n       * @param {function} attributeConstructor\n       */\n      addAttributeConstructor: function(attributeName, attributeConstructor) {\n        return Validation.prototype.addAttributeConstructor.apply(Validation, arguments);\n      }\n\n    };\n\n  }());\n\n}());\n\nvar amanda = function(engine) {\n\n  if (!hasProperty(engines, engine)) {\n    throw new Error('The ' + engine + ' engine is not supported. Please use a different one.');\n  }\n\n  return engines[engine];\n\n};\n\n/**\n * Amanda.validate\n *\n * This method is deprecated, please use amanda('json').validate instead.\n */\namanda.validate = function(instance, schema, options, callback) {\n  var json = engines.json;\n  return json.validate.apply(json, arguments);\n};\n\n/**\n * Amanda.addValidator\n *\n * This method is deprecated, please use amanda('json').addValidator instead.\n */\namanda.addValidator = function(attributeName, attributeFn) {\n  var json = engines.json;\n  return json.addAttribute.apply(json, arguments);\n};\n\n/**\n * Amanda.addAttribute\n *\n * This method is deprecated, please use amanda('json').addAttribute instead.\n */\namanda.addAttribute = function(attributeName, attributeFn) {\n  var json = engines.json;\n  return json.addAttribute.apply(json, arguments);\n};\n\n/**\n * Amanda.addAttributeConstructor\n *\n * This method is deprecated, please use amanda('json').addAttributeConstructor instead.\n */\namanda.addAttributeConstructor = function(attributeName, attributeConstructor) {\n  var json = engines.json;\n  return json.addAttributeConstructor.apply(json, arguments);\n};\n\n  /**\n   * Export\n   * --------------------\n   */\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = amanda;\n  } else if (typeof define !== 'undefined') {\n    define(function() {\n      return amanda;\n    });\n  } else {\n    this.amanda = amanda;\n  }\n\n}());","/*\r\nAuthor: Geraint Luff and others\r\nYear: 2013\r\n\r\nThis code is released into the \"public domain\" by its author(s).  Anybody may use, alter and distribute the code without restriction.  The author makes no guarantees, and takes no liability of any kind for use of this code.\r\n\r\nIf you find a bug or make an improvement, it would be courteous to let the author know, but it is not compulsory.\r\n*/\r\n(function (global, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define([], factory);\r\n  } else if (typeof module !== 'undefined' && module.exports){\r\n    // CommonJS. Define export.\r\n    module.exports = factory();\r\n  } else {\r\n    // Browser globals\r\n    global.tv4 = factory();\r\n  }\r\n}(this, function () {\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FObject%2Fkeys\r\nif (!Object.keys) {\r\n\tObject.keys = (function () {\r\n\t\tvar hasOwnProperty = Object.prototype.hasOwnProperty,\r\n\t\t\thasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),\r\n\t\t\tdontEnums = [\r\n\t\t\t\t'toString',\r\n\t\t\t\t'toLocaleString',\r\n\t\t\t\t'valueOf',\r\n\t\t\t\t'hasOwnProperty',\r\n\t\t\t\t'isPrototypeOf',\r\n\t\t\t\t'propertyIsEnumerable',\r\n\t\t\t\t'constructor'\r\n\t\t\t],\r\n\t\t\tdontEnumsLength = dontEnums.length;\r\n\r\n\t\treturn function (obj) {\r\n\t\t\tif (typeof obj !== 'object' && typeof obj !== 'function' || obj === null) {\r\n\t\t\t\tthrow new TypeError('Object.keys called on non-object');\r\n\t\t\t}\r\n\r\n\t\t\tvar result = [];\r\n\r\n\t\t\tfor (var prop in obj) {\r\n\t\t\t\tif (hasOwnProperty.call(obj, prop)) {\r\n\t\t\t\t\tresult.push(prop);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (hasDontEnumBug) {\r\n\t\t\t\tfor (var i=0; i < dontEnumsLength; i++) {\r\n\t\t\t\t\tif (hasOwnProperty.call(obj, dontEnums[i])) {\r\n\t\t\t\t\t\tresult.push(dontEnums[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t};\r\n\t})();\r\n}\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\r\nif (!Object.create) {\r\n\tObject.create = (function(){\r\n\t\tfunction F(){}\r\n\r\n\t\treturn function(o){\r\n\t\t\tif (arguments.length !== 1) {\r\n\t\t\t\tthrow new Error('Object.create implementation only accepts one parameter.');\r\n\t\t\t}\r\n\t\t\tF.prototype = o;\r\n\t\t\treturn new F();\r\n\t\t};\r\n\t})();\r\n}\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FisArray\r\nif(!Array.isArray) {\r\n\tArray.isArray = function (vArg) {\r\n\t\treturn Object.prototype.toString.call(vArg) === \"[object Array]\";\r\n\t};\r\n}\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FindexOf\r\nif (!Array.prototype.indexOf) {\r\n\tArray.prototype.indexOf = function (searchElement /*, fromIndex */ ) {\r\n\t\tif (this === null) {\r\n\t\t\tthrow new TypeError();\r\n\t\t}\r\n\t\tvar t = Object(this);\r\n\t\tvar len = t.length >>> 0;\r\n\r\n\t\tif (len === 0) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tvar n = 0;\r\n\t\tif (arguments.length > 1) {\r\n\t\t\tn = Number(arguments[1]);\r\n\t\t\tif (n !== n) { // shortcut for verifying if it's NaN\r\n\t\t\t\tn = 0;\r\n\t\t\t} else if (n !== 0 && n !== Infinity && n !== -Infinity) {\r\n\t\t\t\tn = (n > 0 || -1) * Math.floor(Math.abs(n));\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (n >= len) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tvar k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\r\n\t\tfor (; k < len; k++) {\r\n\t\t\tif (k in t && t[k] === searchElement) {\r\n\t\t\t\treturn k;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t};\r\n}\r\n\r\n// Grungey Object.isFrozen hack\r\nif (!Object.isFrozen) {\r\n\tObject.isFrozen = function (obj) {\r\n\t\tvar key = \"tv4_test_frozen_key\";\r\n\t\twhile (obj.hasOwnProperty(key)) {\r\n\t\t\tkey += Math.random();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tobj[key] = true;\r\n\t\t\tdelete obj[key];\r\n\t\t\treturn false;\r\n\t\t} catch (e) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n}\r\n// Based on: https://github.com/geraintluff/uri-templates, but with all the de-substitution stuff removed\r\n\r\nvar uriTemplateGlobalModifiers = {\r\n\t\"+\": true,\r\n\t\"#\": true,\r\n\t\".\": true,\r\n\t\"/\": true,\r\n\t\";\": true,\r\n\t\"?\": true,\r\n\t\"&\": true\r\n};\r\nvar uriTemplateSuffices = {\r\n\t\"*\": true\r\n};\r\n\r\nfunction notReallyPercentEncode(string) {\r\n\treturn encodeURI(string).replace(/%25[0-9][0-9]/g, function (doubleEncoded) {\r\n\t\treturn \"%\" + doubleEncoded.substring(3);\r\n\t});\r\n}\r\n\r\nfunction uriTemplateSubstitution(spec) {\r\n\tvar modifier = \"\";\r\n\tif (uriTemplateGlobalModifiers[spec.charAt(0)]) {\r\n\t\tmodifier = spec.charAt(0);\r\n\t\tspec = spec.substring(1);\r\n\t}\r\n\tvar separator = \"\";\r\n\tvar prefix = \"\";\r\n\tvar shouldEscape = true;\r\n\tvar showVariables = false;\r\n\tvar trimEmptyString = false;\r\n\tif (modifier === '+') {\r\n\t\tshouldEscape = false;\r\n\t} else if (modifier === \".\") {\r\n\t\tprefix = \".\";\r\n\t\tseparator = \".\";\r\n\t} else if (modifier === \"/\") {\r\n\t\tprefix = \"/\";\r\n\t\tseparator = \"/\";\r\n\t} else if (modifier === '#') {\r\n\t\tprefix = \"#\";\r\n\t\tshouldEscape = false;\r\n\t} else if (modifier === ';') {\r\n\t\tprefix = \";\";\r\n\t\tseparator = \";\";\r\n\t\tshowVariables = true;\r\n\t\ttrimEmptyString = true;\r\n\t} else if (modifier === '?') {\r\n\t\tprefix = \"?\";\r\n\t\tseparator = \"&\";\r\n\t\tshowVariables = true;\r\n\t} else if (modifier === '&') {\r\n\t\tprefix = \"&\";\r\n\t\tseparator = \"&\";\r\n\t\tshowVariables = true;\r\n\t}\r\n\r\n\tvar varNames = [];\r\n\tvar varList = spec.split(\",\");\r\n\tvar varSpecs = [];\r\n\tvar varSpecMap = {};\r\n\tfor (var i = 0; i < varList.length; i++) {\r\n\t\tvar varName = varList[i];\r\n\t\tvar truncate = null;\r\n\t\tif (varName.indexOf(\":\") !== -1) {\r\n\t\t\tvar parts = varName.split(\":\");\r\n\t\t\tvarName = parts[0];\r\n\t\t\ttruncate = parseInt(parts[1], 10);\r\n\t\t}\r\n\t\tvar suffices = {};\r\n\t\twhile (uriTemplateSuffices[varName.charAt(varName.length - 1)]) {\r\n\t\t\tsuffices[varName.charAt(varName.length - 1)] = true;\r\n\t\t\tvarName = varName.substring(0, varName.length - 1);\r\n\t\t}\r\n\t\tvar varSpec = {\r\n\t\t\ttruncate: truncate,\r\n\t\t\tname: varName,\r\n\t\t\tsuffices: suffices\r\n\t\t};\r\n\t\tvarSpecs.push(varSpec);\r\n\t\tvarSpecMap[varName] = varSpec;\r\n\t\tvarNames.push(varName);\r\n\t}\r\n\tvar subFunction = function (valueFunction) {\r\n\t\tvar result = \"\";\r\n\t\tvar startIndex = 0;\r\n\t\tfor (var i = 0; i < varSpecs.length; i++) {\r\n\t\t\tvar varSpec = varSpecs[i];\r\n\t\t\tvar value = valueFunction(varSpec.name);\r\n\t\t\tif (value === null || value === undefined || (Array.isArray(value) && value.length === 0) || (typeof value === 'object' && Object.keys(value).length === 0)) {\r\n\t\t\t\tstartIndex++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (i === startIndex) {\r\n\t\t\t\tresult += prefix;\r\n\t\t\t} else {\r\n\t\t\t\tresult += (separator || \",\");\r\n\t\t\t}\r\n\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\tif (showVariables) {\r\n\t\t\t\t\tresult += varSpec.name + \"=\";\r\n\t\t\t\t}\r\n\t\t\t\tfor (var j = 0; j < value.length; j++) {\r\n\t\t\t\t\tif (j > 0) {\r\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\r\n\t\t\t\t\t\tif (varSpec.suffices['*'] && showVariables) {\r\n\t\t\t\t\t\t\tresult += varSpec.name + \"=\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[j]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[j]);\r\n\t\t\t\t}\r\n\t\t\t} else if (typeof value === \"object\") {\r\n\t\t\t\tif (showVariables && !varSpec.suffices['*']) {\r\n\t\t\t\t\tresult += varSpec.name + \"=\";\r\n\t\t\t\t}\r\n\t\t\t\tvar first = true;\r\n\t\t\t\tfor (var key in value) {\r\n\t\t\t\t\tif (!first) {\r\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfirst = false;\r\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(key).replace(/!/g, \"%21\") : notReallyPercentEncode(key);\r\n\t\t\t\t\tresult += varSpec.suffices['*'] ? '=' : \",\";\r\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[key]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[key]);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (showVariables) {\r\n\t\t\t\t\tresult += varSpec.name;\r\n\t\t\t\t\tif (!trimEmptyString || value !== \"\") {\r\n\t\t\t\t\t\tresult += \"=\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (varSpec.truncate != null) {\r\n\t\t\t\t\tvalue = value.substring(0, varSpec.truncate);\r\n\t\t\t\t}\r\n\t\t\t\tresult += shouldEscape ? encodeURIComponent(value).replace(/!/g, \"%21\"): notReallyPercentEncode(value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tsubFunction.varNames = varNames;\r\n\treturn {\r\n\t\tprefix: prefix,\r\n\t\tsubstitution: subFunction\r\n\t};\r\n}\r\n\r\nfunction UriTemplate(template) {\r\n\tif (!(this instanceof UriTemplate)) {\r\n\t\treturn new UriTemplate(template);\r\n\t}\r\n\tvar parts = template.split(\"{\");\r\n\tvar textParts = [parts.shift()];\r\n\tvar prefixes = [];\r\n\tvar substitutions = [];\r\n\tvar varNames = [];\r\n\twhile (parts.length > 0) {\r\n\t\tvar part = parts.shift();\r\n\t\tvar spec = part.split(\"}\")[0];\r\n\t\tvar remainder = part.substring(spec.length + 1);\r\n\t\tvar funcs = uriTemplateSubstitution(spec);\r\n\t\tsubstitutions.push(funcs.substitution);\r\n\t\tprefixes.push(funcs.prefix);\r\n\t\ttextParts.push(remainder);\r\n\t\tvarNames = varNames.concat(funcs.substitution.varNames);\r\n\t}\r\n\tthis.fill = function (valueFunction) {\r\n\t\tvar result = textParts[0];\r\n\t\tfor (var i = 0; i < substitutions.length; i++) {\r\n\t\t\tvar substitution = substitutions[i];\r\n\t\t\tresult += substitution(valueFunction);\r\n\t\t\tresult += textParts[i + 1];\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tthis.varNames = varNames;\r\n\tthis.template = template;\r\n}\r\nUriTemplate.prototype = {\r\n\ttoString: function () {\r\n\t\treturn this.template;\r\n\t},\r\n\tfillFromObject: function (obj) {\r\n\t\treturn this.fill(function (varName) {\r\n\t\t\treturn obj[varName];\r\n\t\t});\r\n\t}\r\n};\r\nvar ValidatorContext = function ValidatorContext(parent, collectMultiple, errorReporter, checkRecursive, trackUnknownProperties) {\r\n\tthis.missing = [];\r\n\tthis.missingMap = {};\r\n\tthis.formatValidators = parent ? Object.create(parent.formatValidators) : {};\r\n\tthis.schemas = parent ? Object.create(parent.schemas) : {};\r\n\tthis.collectMultiple = collectMultiple;\r\n\tthis.errors = [];\r\n\tthis.handleError = collectMultiple ? this.collectError : this.returnError;\r\n\tif (checkRecursive) {\r\n\t\tthis.checkRecursive = true;\r\n\t\tthis.scanned = [];\r\n\t\tthis.scannedFrozen = [];\r\n\t\tthis.scannedFrozenSchemas = [];\r\n\t\tthis.scannedFrozenValidationErrors = [];\r\n\t\tthis.validatedSchemasKey = 'tv4_validation_id';\r\n\t\tthis.validationErrorsKey = 'tv4_validation_errors_id';\r\n\t}\r\n\tif (trackUnknownProperties) {\r\n\t\tthis.trackUnknownProperties = true;\r\n\t\tthis.knownPropertyPaths = {};\r\n\t\tthis.unknownPropertyPaths = {};\r\n\t}\r\n\tthis.errorReporter = errorReporter || defaultErrorReporter('en');\r\n\tif (typeof this.errorReporter === 'string') {\r\n\t\tthrow new Error('debug');\r\n\t}\r\n\tthis.definedKeywords = {};\r\n\tif (parent) {\r\n\t\tfor (var key in parent.definedKeywords) {\r\n\t\t\tthis.definedKeywords[key] = parent.definedKeywords[key].slice(0);\r\n\t\t}\r\n\t}\r\n};\r\nValidatorContext.prototype.defineKeyword = function (keyword, keywordFunction) {\r\n\tthis.definedKeywords[keyword] = this.definedKeywords[keyword] || [];\r\n\tthis.definedKeywords[keyword].push(keywordFunction);\r\n};\r\nValidatorContext.prototype.createError = function (code, messageParams, dataPath, schemaPath, subErrors, data, schema) {\r\n\tvar error = new ValidationError(code, messageParams, dataPath, schemaPath, subErrors);\r\n\terror.message = this.errorReporter(error, data, schema);\r\n\treturn error;\r\n};\r\nValidatorContext.prototype.returnError = function (error) {\r\n\treturn error;\r\n};\r\nValidatorContext.prototype.collectError = function (error) {\r\n\tif (error) {\r\n\t\tthis.errors.push(error);\r\n\t}\r\n\treturn null;\r\n};\r\nValidatorContext.prototype.prefixErrors = function (startIndex, dataPath, schemaPath) {\r\n\tfor (var i = startIndex; i < this.errors.length; i++) {\r\n\t\tthis.errors[i] = this.errors[i].prefixWith(dataPath, schemaPath);\r\n\t}\r\n\treturn this;\r\n};\r\nValidatorContext.prototype.banUnknownProperties = function (data, schema) {\r\n\tfor (var unknownPath in this.unknownPropertyPaths) {\r\n\t\tvar error = this.createError(ErrorCodes.UNKNOWN_PROPERTY, {path: unknownPath}, unknownPath, \"\", null, data, schema);\r\n\t\tvar result = this.handleError(error);\r\n\t\tif (result) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.addFormat = function (format, validator) {\r\n\tif (typeof format === 'object') {\r\n\t\tfor (var key in format) {\r\n\t\t\tthis.addFormat(key, format[key]);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\tthis.formatValidators[format] = validator;\r\n};\r\nValidatorContext.prototype.resolveRefs = function (schema, urlHistory) {\r\n\tif (schema['$ref'] !== undefined) {\r\n\t\turlHistory = urlHistory || {};\r\n\t\tif (urlHistory[schema['$ref']]) {\r\n\t\t\treturn this.createError(ErrorCodes.CIRCULAR_REFERENCE, {urls: Object.keys(urlHistory).join(', ')}, '', '', null, undefined, schema);\r\n\t\t}\r\n\t\turlHistory[schema['$ref']] = true;\r\n\t\tschema = this.getSchema(schema['$ref'], urlHistory);\r\n\t}\r\n\treturn schema;\r\n};\r\nValidatorContext.prototype.getSchema = function (url, urlHistory) {\r\n\tvar schema;\r\n\tif (this.schemas[url] !== undefined) {\r\n\t\tschema = this.schemas[url];\r\n\t\treturn this.resolveRefs(schema, urlHistory);\r\n\t}\r\n\tvar baseUrl = url;\r\n\tvar fragment = \"\";\r\n\tif (url.indexOf('#') !== -1) {\r\n\t\tfragment = url.substring(url.indexOf(\"#\") + 1);\r\n\t\tbaseUrl = url.substring(0, url.indexOf(\"#\"));\r\n\t}\r\n\tif (typeof this.schemas[baseUrl] === 'object') {\r\n\t\tschema = this.schemas[baseUrl];\r\n\t\tvar pointerPath = decodeURIComponent(fragment);\r\n\t\tif (pointerPath === \"\") {\r\n\t\t\treturn this.resolveRefs(schema, urlHistory);\r\n\t\t} else if (pointerPath.charAt(0) !== \"/\") {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tvar parts = pointerPath.split(\"/\").slice(1);\r\n\t\tfor (var i = 0; i < parts.length; i++) {\r\n\t\t\tvar component = parts[i].replace(/~1/g, \"/\").replace(/~0/g, \"~\");\r\n\t\t\tif (schema[component] === undefined) {\r\n\t\t\t\tschema = undefined;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tschema = schema[component];\r\n\t\t}\r\n\t\tif (schema !== undefined) {\r\n\t\t\treturn this.resolveRefs(schema, urlHistory);\r\n\t\t}\r\n\t}\r\n\tif (this.missing[baseUrl] === undefined) {\r\n\t\tthis.missing.push(baseUrl);\r\n\t\tthis.missing[baseUrl] = baseUrl;\r\n\t\tthis.missingMap[baseUrl] = baseUrl;\r\n\t}\r\n};\r\nValidatorContext.prototype.searchSchemas = function (schema, url) {\r\n\tif (Array.isArray(schema)) {\r\n\t\tfor (var i = 0; i < schema.length; i++) {\r\n\t\t\tthis.searchSchemas(schema[i], url);\r\n\t\t}\r\n\t} else if (schema && typeof schema === \"object\") {\r\n\t\tif (typeof schema.id === \"string\") {\r\n\t\t\tif (isTrustedUrl(url, schema.id)) {\r\n\t\t\t\tif (this.schemas[schema.id] === undefined) {\r\n\t\t\t\t\tthis.schemas[schema.id] = schema;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (var key in schema) {\r\n\t\t\tif (key !== \"enum\") {\r\n\t\t\t\tif (typeof schema[key] === \"object\") {\r\n\t\t\t\t\tthis.searchSchemas(schema[key], url);\r\n\t\t\t\t} else if (key === \"$ref\") {\r\n\t\t\t\t\tvar uri = getDocumentUri(schema[key]);\r\n\t\t\t\t\tif (uri && this.schemas[uri] === undefined && this.missingMap[uri] === undefined) {\r\n\t\t\t\t\t\tthis.missingMap[uri] = uri;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\nValidatorContext.prototype.addSchema = function (url, schema) {\r\n\t//overload\r\n\tif (typeof url !== 'string' || typeof schema === 'undefined') {\r\n\t\tif (typeof url === 'object' && typeof url.id === 'string') {\r\n\t\t\tschema = url;\r\n\t\t\turl = schema.id;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tif (url === getDocumentUri(url) + \"#\") {\r\n\t\t// Remove empty fragment\r\n\t\turl = getDocumentUri(url);\r\n\t}\r\n\tthis.schemas[url] = schema;\r\n\tdelete this.missingMap[url];\r\n\tnormSchema(schema, url);\r\n\tthis.searchSchemas(schema, url);\r\n};\r\n\r\nValidatorContext.prototype.getSchemaMap = function () {\r\n\tvar map = {};\r\n\tfor (var key in this.schemas) {\r\n\t\tmap[key] = this.schemas[key];\r\n\t}\r\n\treturn map;\r\n};\r\n\r\nValidatorContext.prototype.getSchemaUris = function (filterRegExp) {\r\n\tvar list = [];\r\n\tfor (var key in this.schemas) {\r\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\r\n\t\t\tlist.push(key);\r\n\t\t}\r\n\t}\r\n\treturn list;\r\n};\r\n\r\nValidatorContext.prototype.getMissingUris = function (filterRegExp) {\r\n\tvar list = [];\r\n\tfor (var key in this.missingMap) {\r\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\r\n\t\t\tlist.push(key);\r\n\t\t}\r\n\t}\r\n\treturn list;\r\n};\r\n\r\nValidatorContext.prototype.dropSchemas = function () {\r\n\tthis.schemas = {};\r\n\tthis.reset();\r\n};\r\nValidatorContext.prototype.reset = function () {\r\n\tthis.missing = [];\r\n\tthis.missingMap = {};\r\n\tthis.errors = [];\r\n};\r\n\r\nValidatorContext.prototype.validateAll = function (data, schema, dataPathParts, schemaPathParts, dataPointerPath) {\r\n\tvar topLevel;\r\n\tschema = this.resolveRefs(schema);\r\n\tif (!schema) {\r\n\t\treturn null;\r\n\t} else if (schema instanceof ValidationError) {\r\n\t\tthis.errors.push(schema);\r\n\t\treturn schema;\r\n\t}\r\n\r\n\tvar startErrorCount = this.errors.length;\r\n\tvar frozenIndex, scannedFrozenSchemaIndex = null, scannedSchemasIndex = null;\r\n\tif (this.checkRecursive && data && typeof data === 'object') {\r\n\t\ttopLevel = !this.scanned.length;\r\n\t\tif (data[this.validatedSchemasKey]) {\r\n\t\t\tvar schemaIndex = data[this.validatedSchemasKey].indexOf(schema);\r\n\t\t\tif (schemaIndex !== -1) {\r\n\t\t\t\tthis.errors = this.errors.concat(data[this.validationErrorsKey][schemaIndex]);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Object.isFrozen(data)) {\r\n\t\t\tfrozenIndex = this.scannedFrozen.indexOf(data);\r\n\t\t\tif (frozenIndex !== -1) {\r\n\t\t\t\tvar frozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].indexOf(schema);\r\n\t\t\t\tif (frozenSchemaIndex !== -1) {\r\n\t\t\t\t\tthis.errors = this.errors.concat(this.scannedFrozenValidationErrors[frozenIndex][frozenSchemaIndex]);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.scanned.push(data);\r\n\t\tif (Object.isFrozen(data)) {\r\n\t\t\tif (frozenIndex === -1) {\r\n\t\t\t\tfrozenIndex = this.scannedFrozen.length;\r\n\t\t\t\tthis.scannedFrozen.push(data);\r\n\t\t\t\tthis.scannedFrozenSchemas.push([]);\r\n\t\t\t}\r\n\t\t\tscannedFrozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].length;\r\n\t\t\tthis.scannedFrozenSchemas[frozenIndex][scannedFrozenSchemaIndex] = schema;\r\n\t\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = [];\r\n\t\t} else {\r\n\t\t\tif (!data[this.validatedSchemasKey]) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tObject.defineProperty(data, this.validatedSchemasKey, {\r\n\t\t\t\t\t\tvalue: [],\r\n\t\t\t\t\t\tconfigurable: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tObject.defineProperty(data, this.validationErrorsKey, {\r\n\t\t\t\t\t\tvalue: [],\r\n\t\t\t\t\t\tconfigurable: true\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t//IE 7/8 workaround\r\n\t\t\t\t\tdata[this.validatedSchemasKey] = [];\r\n\t\t\t\t\tdata[this.validationErrorsKey] = [];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tscannedSchemasIndex = data[this.validatedSchemasKey].length;\r\n\t\t\tdata[this.validatedSchemasKey][scannedSchemasIndex] = schema;\r\n\t\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = [];\r\n\t\t}\r\n\t}\r\n\r\n\tvar errorCount = this.errors.length;\r\n\tvar error = this.validateBasic(data, schema, dataPointerPath)\r\n\t\t|| this.validateNumeric(data, schema, dataPointerPath)\r\n\t\t|| this.validateString(data, schema, dataPointerPath)\r\n\t\t|| this.validateArray(data, schema, dataPointerPath)\r\n\t\t|| this.validateObject(data, schema, dataPointerPath)\r\n\t\t|| this.validateCombinations(data, schema, dataPointerPath)\r\n\t\t|| this.validateHypermedia(data, schema, dataPointerPath)\r\n\t\t|| this.validateFormat(data, schema, dataPointerPath)\r\n\t\t|| this.validateDefinedKeywords(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n\r\n\tif (topLevel) {\r\n\t\twhile (this.scanned.length) {\r\n\t\t\tvar item = this.scanned.pop();\r\n\t\t\tdelete item[this.validatedSchemasKey];\r\n\t\t}\r\n\t\tthis.scannedFrozen = [];\r\n\t\tthis.scannedFrozenSchemas = [];\r\n\t}\r\n\r\n\tif (error || errorCount !== this.errors.length) {\r\n\t\twhile ((dataPathParts && dataPathParts.length) || (schemaPathParts && schemaPathParts.length)) {\r\n\t\t\tvar dataPart = (dataPathParts && dataPathParts.length) ? \"\" + dataPathParts.pop() : null;\r\n\t\t\tvar schemaPart = (schemaPathParts && schemaPathParts.length) ? \"\" + schemaPathParts.pop() : null;\r\n\t\t\tif (error) {\r\n\t\t\t\terror = error.prefixWith(dataPart, schemaPart);\r\n\t\t\t}\r\n\t\t\tthis.prefixErrors(errorCount, dataPart, schemaPart);\r\n\t\t}\r\n\t}\r\n\r\n\tif (scannedFrozenSchemaIndex !== null) {\r\n\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = this.errors.slice(startErrorCount);\r\n\t} else if (scannedSchemasIndex !== null) {\r\n\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = this.errors.slice(startErrorCount);\r\n\t}\r\n\r\n\treturn this.handleError(error);\r\n};\r\nValidatorContext.prototype.validateFormat = function (data, schema) {\r\n\tif (typeof schema.format !== 'string' || !this.formatValidators[schema.format]) {\r\n\t\treturn null;\r\n\t}\r\n\tvar errorMessage = this.formatValidators[schema.format].call(null, data, schema);\r\n\tif (typeof errorMessage === 'string' || typeof errorMessage === 'number') {\r\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage}, '', '/format', null, data, schema);\r\n\t} else if (errorMessage && typeof errorMessage === 'object') {\r\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage.message || \"?\"}, errorMessage.dataPath || '', errorMessage.schemaPath || \"/format\", null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\nValidatorContext.prototype.validateDefinedKeywords = function (data, schema, dataPointerPath) {\r\n\tfor (var key in this.definedKeywords) {\r\n\t\tif (typeof schema[key] === 'undefined') {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tvar validationFunctions = this.definedKeywords[key];\r\n\t\tfor (var i = 0; i < validationFunctions.length; i++) {\r\n\t\t\tvar func = validationFunctions[i];\r\n\t\t\tvar result = func(data, schema[key], schema, dataPointerPath);\r\n\t\t\tif (typeof result === 'string' || typeof result === 'number') {\r\n\t\t\t\treturn this.createError(ErrorCodes.KEYWORD_CUSTOM, {key: key, message: result}, '', '', null, data, schema).prefixWith(null, key);\r\n\t\t\t} else if (result && typeof result === 'object') {\r\n\t\t\t\tvar code = result.code;\r\n\t\t\t\tif (typeof code === 'string') {\r\n\t\t\t\t\tif (!ErrorCodes[code]) {\r\n\t\t\t\t\t\tthrow new Error('Undefined error code (use defineError): ' + code);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcode = ErrorCodes[code];\r\n\t\t\t\t} else if (typeof code !== 'number') {\r\n\t\t\t\t\tcode = ErrorCodes.KEYWORD_CUSTOM;\r\n\t\t\t\t}\r\n\t\t\t\tvar messageParams = (typeof result.message === 'object') ? result.message : {key: key, message: result.message || \"?\"};\r\n\t\t\t\tvar schemaPath = result.schemaPath || (\"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1'));\r\n\t\t\t\treturn this.createError(code, messageParams, result.dataPath || null, schemaPath, null, data, schema);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nfunction recursiveCompare(A, B) {\r\n\tif (A === B) {\r\n\t\treturn true;\r\n\t}\r\n\tif (A && B && typeof A === \"object\" && typeof B === \"object\") {\r\n\t\tif (Array.isArray(A) !== Array.isArray(B)) {\r\n\t\t\treturn false;\r\n\t\t} else if (Array.isArray(A)) {\r\n\t\t\tif (A.length !== B.length) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tfor (var i = 0; i < A.length; i++) {\r\n\t\t\t\tif (!recursiveCompare(A[i], B[i])) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar key;\r\n\t\t\tfor (key in A) {\r\n\t\t\t\tif (B[key] === undefined && A[key] !== undefined) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (key in B) {\r\n\t\t\t\tif (A[key] === undefined && B[key] !== undefined) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (key in A) {\r\n\t\t\t\tif (!recursiveCompare(A[key], B[key])) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nValidatorContext.prototype.validateBasic = function validateBasic(data, schema, dataPointerPath) {\r\n\tvar error;\r\n\tif (error = this.validateType(data, schema, dataPointerPath)) {\r\n\t\treturn error.prefixWith(null, \"type\");\r\n\t}\r\n\tif (error = this.validateEnum(data, schema, dataPointerPath)) {\r\n\t\treturn error.prefixWith(null, \"type\");\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateType = function validateType(data, schema) {\r\n\tif (schema.type === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar dataType = typeof data;\r\n\tif (data === null) {\r\n\t\tdataType = \"null\";\r\n\t} else if (Array.isArray(data)) {\r\n\t\tdataType = \"array\";\r\n\t}\r\n\tvar allowedTypes = schema.type;\r\n\tif (!Array.isArray(allowedTypes)) {\r\n\t\tallowedTypes = [allowedTypes];\r\n\t}\r\n\r\n\tfor (var i = 0; i < allowedTypes.length; i++) {\r\n\t\tvar type = allowedTypes[i];\r\n\t\tif (type === dataType || (type === \"integer\" && dataType === \"number\" && (data % 1 === 0))) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\treturn this.createError(ErrorCodes.INVALID_TYPE, {type: dataType, expected: allowedTypes.join(\"/\")}, '', '', null, data, schema);\r\n};\r\n\r\nValidatorContext.prototype.validateEnum = function validateEnum(data, schema) {\r\n\tif (schema[\"enum\"] === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tfor (var i = 0; i < schema[\"enum\"].length; i++) {\r\n\t\tvar enumVal = schema[\"enum\"][i];\r\n\t\tif (recursiveCompare(data, enumVal)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\treturn this.createError(ErrorCodes.ENUM_MISMATCH, {value: (typeof JSON !== 'undefined') ? JSON.stringify(data) : data}, '', '', null, data, schema);\r\n};\r\n\r\nValidatorContext.prototype.validateNumeric = function validateNumeric(data, schema, dataPointerPath) {\r\n\treturn this.validateMultipleOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateMinMax(data, schema, dataPointerPath)\r\n\t\t|| this.validateNaN(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nvar CLOSE_ENOUGH_LOW = Math.pow(2, -51);\r\nvar CLOSE_ENOUGH_HIGH = 1 - CLOSE_ENOUGH_LOW;\r\nValidatorContext.prototype.validateMultipleOf = function validateMultipleOf(data, schema) {\r\n\tvar multipleOf = schema.multipleOf || schema.divisibleBy;\r\n\tif (multipleOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tif (typeof data === \"number\") {\r\n\t\tvar remainder = (data/multipleOf)%1;\r\n\t\tif (remainder >= CLOSE_ENOUGH_LOW && remainder < CLOSE_ENOUGH_HIGH) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MULTIPLE_OF, {value: data, multipleOf: multipleOf}, '', '', null, data, schema);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateMinMax = function validateMinMax(data, schema) {\r\n\tif (typeof data !== \"number\") {\r\n\t\treturn null;\r\n\t}\r\n\tif (schema.minimum !== undefined) {\r\n\t\tif (data < schema.minimum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM, {value: data, minimum: schema.minimum}, '', '/minimum', null, data, schema);\r\n\t\t}\r\n\t\tif (schema.exclusiveMinimum && data === schema.minimum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM_EXCLUSIVE, {value: data, minimum: schema.minimum}, '', '/exclusiveMinimum', null, data, schema);\r\n\t\t}\r\n\t}\r\n\tif (schema.maximum !== undefined) {\r\n\t\tif (data > schema.maximum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM, {value: data, maximum: schema.maximum}, '', '/maximum', null, data, schema);\r\n\t\t}\r\n\t\tif (schema.exclusiveMaximum && data === schema.maximum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM_EXCLUSIVE, {value: data, maximum: schema.maximum}, '', '/exclusiveMaximum', null, data, schema);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateNaN = function validateNaN(data, schema) {\r\n\tif (typeof data !== \"number\") {\r\n\t\treturn null;\r\n\t}\r\n\tif (isNaN(data) === true || data === Infinity || data === -Infinity) {\r\n\t\treturn this.createError(ErrorCodes.NUMBER_NOT_A_NUMBER, {value: data}, '', '/type', null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateString = function validateString(data, schema, dataPointerPath) {\r\n\treturn this.validateStringLength(data, schema, dataPointerPath)\r\n\t\t|| this.validateStringPattern(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateStringLength = function validateStringLength(data, schema) {\r\n\tif (typeof data !== \"string\") {\r\n\t\treturn null;\r\n\t}\r\n\tif (schema.minLength !== undefined) {\r\n\t\tif (data.length < schema.minLength) {\r\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_SHORT, {length: data.length, minimum: schema.minLength}, '', '/minLength', null, data, schema);\r\n\t\t}\r\n\t}\r\n\tif (schema.maxLength !== undefined) {\r\n\t\tif (data.length > schema.maxLength) {\r\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_LONG, {length: data.length, maximum: schema.maxLength}, '', '/maxLength', null, data, schema);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateStringPattern = function validateStringPattern(data, schema) {\r\n\tif (typeof data !== \"string\" || (typeof schema.pattern !== \"string\" && !(schema.pattern instanceof RegExp))) {\r\n\t\treturn null;\r\n\t}\r\n\tvar regexp;\r\n\tif (schema.pattern instanceof RegExp) {\r\n\t  regexp = schema.pattern;\r\n\t}\r\n\telse {\r\n\t  var body, flags = '';\r\n\t  // Check for regular expression literals\r\n\t  // @see http://www.ecma-international.org/ecma-262/5.1/#sec-7.8.5\r\n\t  var literal = schema.pattern.match(/^\\/(.+)\\/([img]*)$/);\r\n\t  if (literal) {\r\n\t    body = literal[1];\r\n\t    flags = literal[2];\r\n\t  }\r\n\t  else {\r\n\t    body = schema.pattern;\r\n\t  }\r\n\t  regexp = new RegExp(body, flags);\r\n\t}\r\n\tif (!regexp.test(data)) {\r\n\t\treturn this.createError(ErrorCodes.STRING_PATTERN, {pattern: schema.pattern}, '', '/pattern', null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateArray = function validateArray(data, schema, dataPointerPath) {\r\n\tif (!Array.isArray(data)) {\r\n\t\treturn null;\r\n\t}\r\n\treturn this.validateArrayLength(data, schema, dataPointerPath)\r\n\t\t|| this.validateArrayUniqueItems(data, schema, dataPointerPath)\r\n\t\t|| this.validateArrayItems(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateArrayLength = function validateArrayLength(data, schema) {\r\n\tvar error;\r\n\tif (schema.minItems !== undefined) {\r\n\t\tif (data.length < schema.minItems) {\r\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_SHORT, {length: data.length, minimum: schema.minItems}, '', '/minItems', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (schema.maxItems !== undefined) {\r\n\t\tif (data.length > schema.maxItems) {\r\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_LONG, {length: data.length, maximum: schema.maxItems}, '', '/maxItems', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateArrayUniqueItems = function validateArrayUniqueItems(data, schema) {\r\n\tif (schema.uniqueItems) {\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\tfor (var j = i + 1; j < data.length; j++) {\r\n\t\t\t\tif (recursiveCompare(data[i], data[j])) {\r\n\t\t\t\t\tvar error = this.createError(ErrorCodes.ARRAY_UNIQUE, {match1: i, match2: j}, '', '/uniqueItems', null, data, schema);\r\n\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateArrayItems = function validateArrayItems(data, schema, dataPointerPath) {\r\n\tif (schema.items === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar error, i;\r\n\tif (Array.isArray(schema.items)) {\r\n\t\tfor (i = 0; i < data.length; i++) {\r\n\t\t\tif (i < schema.items.length) {\r\n\t\t\t\tif (error = this.validateAll(data[i], schema.items[i], [i], [\"items\", i], dataPointerPath + \"/\" + i)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t} else if (schema.additionalItems !== undefined) {\r\n\t\t\t\tif (typeof schema.additionalItems === \"boolean\") {\r\n\t\t\t\t\tif (!schema.additionalItems) {\r\n\t\t\t\t\t\terror = (this.createError(ErrorCodes.ARRAY_ADDITIONAL_ITEMS, {}, '/' + i, '/additionalItems', null, data, schema));\r\n\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (error = this.validateAll(data[i], schema.additionalItems, [i], [\"additionalItems\"], dataPointerPath + \"/\" + i)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tfor (i = 0; i < data.length; i++) {\r\n\t\t\tif (error = this.validateAll(data[i], schema.items, [i], [\"items\"], dataPointerPath + \"/\" + i)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObject = function validateObject(data, schema, dataPointerPath) {\r\n\tif (typeof data !== \"object\" || data === null || Array.isArray(data)) {\r\n\t\treturn null;\r\n\t}\r\n\treturn this.validateObjectMinMaxProperties(data, schema, dataPointerPath)\r\n\t\t|| this.validateObjectRequiredProperties(data, schema, dataPointerPath)\r\n\t\t|| this.validateObjectProperties(data, schema, dataPointerPath)\r\n\t\t|| this.validateObjectDependencies(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectMinMaxProperties = function validateObjectMinMaxProperties(data, schema) {\r\n\tvar keys = Object.keys(data);\r\n\tvar error;\r\n\tif (schema.minProperties !== undefined) {\r\n\t\tif (keys.length < schema.minProperties) {\r\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MINIMUM, {propertyCount: keys.length, minimum: schema.minProperties}, '', '/minProperties', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (schema.maxProperties !== undefined) {\r\n\t\tif (keys.length > schema.maxProperties) {\r\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MAXIMUM, {propertyCount: keys.length, maximum: schema.maxProperties}, '', '/maxProperties', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectRequiredProperties = function validateObjectRequiredProperties(data, schema) {\r\n\tif (schema.required !== undefined) {\r\n\t\tfor (var i = 0; i < schema.required.length; i++) {\r\n\t\t\tvar key = schema.required[i];\r\n\t\t\tif (data[key] === undefined) {\r\n\t\t\t\tvar error = this.createError(ErrorCodes.OBJECT_REQUIRED, {key: key}, '', '/required/' + i, null, data, schema);\r\n\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectProperties = function validateObjectProperties(data, schema, dataPointerPath) {\r\n\tvar error;\r\n\tfor (var key in data) {\r\n\t\tvar keyPointerPath = dataPointerPath + \"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1');\r\n\t\tvar foundMatch = false;\r\n\t\tif (schema.properties !== undefined && schema.properties[key] !== undefined) {\r\n\t\t\tfoundMatch = true;\r\n\t\t\tif (error = this.validateAll(data[key], schema.properties[key], [key], [\"properties\", key], keyPointerPath)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (schema.patternProperties !== undefined) {\r\n\t\t\tfor (var patternKey in schema.patternProperties) {\r\n\t\t\t\tvar regexp = new RegExp(patternKey);\r\n\t\t\t\tif (regexp.test(key)) {\r\n\t\t\t\t\tfoundMatch = true;\r\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.patternProperties[patternKey], [key], [\"patternProperties\", patternKey], keyPointerPath)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!foundMatch) {\r\n\t\t\tif (schema.additionalProperties !== undefined) {\r\n\t\t\t\tif (this.trackUnknownProperties) {\r\n\t\t\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\r\n\t\t\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof schema.additionalProperties === \"boolean\") {\r\n\t\t\t\t\tif (!schema.additionalProperties) {\r\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_ADDITIONAL_PROPERTIES, {key: key}, '', '/additionalProperties', null, data, schema).prefixWith(key, null);\r\n\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.additionalProperties, [key], [\"additionalProperties\"], keyPointerPath)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (this.trackUnknownProperties && !this.knownPropertyPaths[keyPointerPath]) {\r\n\t\t\t\tthis.unknownPropertyPaths[keyPointerPath] = true;\r\n\t\t\t}\r\n\t\t} else if (this.trackUnknownProperties) {\r\n\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\r\n\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectDependencies = function validateObjectDependencies(data, schema, dataPointerPath) {\r\n\tvar error;\r\n\tif (schema.dependencies !== undefined) {\r\n\t\tfor (var depKey in schema.dependencies) {\r\n\t\t\tif (data[depKey] !== undefined) {\r\n\t\t\t\tvar dep = schema.dependencies[depKey];\r\n\t\t\t\tif (typeof dep === \"string\") {\r\n\t\t\t\t\tif (data[dep] === undefined) {\r\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: dep}, '', '', null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\r\n\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (Array.isArray(dep)) {\r\n\t\t\t\t\tfor (var i = 0; i < dep.length; i++) {\r\n\t\t\t\t\t\tvar requiredKey = dep[i];\r\n\t\t\t\t\t\tif (data[requiredKey] === undefined) {\r\n\t\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: requiredKey}, '', '/' + i, null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\r\n\t\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (error = this.validateAll(data, dep, [], [\"dependencies\", depKey], dataPointerPath)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateCombinations = function validateCombinations(data, schema, dataPointerPath) {\r\n\treturn this.validateAllOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateAnyOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateOneOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateNot(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateAllOf = function validateAllOf(data, schema, dataPointerPath) {\r\n\tif (schema.allOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar error;\r\n\tfor (var i = 0; i < schema.allOf.length; i++) {\r\n\t\tvar subSchema = schema.allOf[i];\r\n\t\tif (error = this.validateAll(data, subSchema, [], [\"allOf\", i], dataPointerPath)) {\r\n\t\t\treturn error;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateAnyOf = function validateAnyOf(data, schema, dataPointerPath) {\r\n\tif (schema.anyOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar errors = [];\r\n\tvar startErrorCount = this.errors.length;\r\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\r\n\tif (this.trackUnknownProperties) {\r\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\r\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\r\n\t}\r\n\tvar errorAtEnd = true;\r\n\tfor (var i = 0; i < schema.anyOf.length; i++) {\r\n\t\tif (this.trackUnknownProperties) {\r\n\t\t\tthis.unknownPropertyPaths = {};\r\n\t\t\tthis.knownPropertyPaths = {};\r\n\t\t}\r\n\t\tvar subSchema = schema.anyOf[i];\r\n\r\n\t\tvar errorCount = this.errors.length;\r\n\t\tvar error = this.validateAll(data, subSchema, [], [\"anyOf\", i], dataPointerPath);\r\n\r\n\t\tif (error === null && errorCount === this.errors.length) {\r\n\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\r\n\t\t\tif (this.trackUnknownProperties) {\r\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\r\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\r\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\r\n\t\t\t\t}\r\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\r\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\r\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// We need to continue looping so we catch all the property definitions, but we don't want to return an error\r\n\t\t\t\terrorAtEnd = false;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (error) {\r\n\t\t\terrors.push(error.prefixWith(null, \"\" + i).prefixWith(null, \"anyOf\"));\r\n\t\t}\r\n\t}\r\n\tif (this.trackUnknownProperties) {\r\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\r\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\r\n\t}\r\n\tif (errorAtEnd) {\r\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\r\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t\treturn this.createError(ErrorCodes.ANY_OF_MISSING, {}, \"\", \"/anyOf\", errors, data, schema);\r\n\t}\r\n};\r\n\r\nValidatorContext.prototype.validateOneOf = function validateOneOf(data, schema, dataPointerPath) {\r\n\tif (schema.oneOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar validIndex = null;\r\n\tvar errors = [];\r\n\tvar startErrorCount = this.errors.length;\r\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\r\n\tif (this.trackUnknownProperties) {\r\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\r\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\r\n\t}\r\n\tfor (var i = 0; i < schema.oneOf.length; i++) {\r\n\t\tif (this.trackUnknownProperties) {\r\n\t\t\tthis.unknownPropertyPaths = {};\r\n\t\t\tthis.knownPropertyPaths = {};\r\n\t\t}\r\n\t\tvar subSchema = schema.oneOf[i];\r\n\r\n\t\tvar errorCount = this.errors.length;\r\n\t\tvar error = this.validateAll(data, subSchema, [], [\"oneOf\", i], dataPointerPath);\r\n\r\n\t\tif (error === null && errorCount === this.errors.length) {\r\n\t\t\tif (validIndex === null) {\r\n\t\t\t\tvalidIndex = i;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t\t\t\treturn this.createError(ErrorCodes.ONE_OF_MULTIPLE, {index1: validIndex, index2: i}, \"\", \"/oneOf\", null, data, schema);\r\n\t\t\t}\r\n\t\t\tif (this.trackUnknownProperties) {\r\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\r\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\r\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\r\n\t\t\t\t}\r\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\r\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\r\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (error) {\r\n\t\t\terrors.push(error);\r\n\t\t}\r\n\t}\r\n\tif (this.trackUnknownProperties) {\r\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\r\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\r\n\t}\r\n\tif (validIndex === null) {\r\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\r\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t\treturn this.createError(ErrorCodes.ONE_OF_MISSING, {}, \"\", \"/oneOf\", errors, data, schema);\r\n\t} else {\r\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateNot = function validateNot(data, schema, dataPointerPath) {\r\n\tif (schema.not === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar oldErrorCount = this.errors.length;\r\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\r\n\tif (this.trackUnknownProperties) {\r\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\r\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\r\n\t\tthis.unknownPropertyPaths = {};\r\n\t\tthis.knownPropertyPaths = {};\r\n\t}\r\n\tvar error = this.validateAll(data, schema.not, null, null, dataPointerPath);\r\n\tvar notErrors = this.errors.slice(oldErrorCount);\r\n\tthis.errors = this.errors.slice(0, oldErrorCount);\r\n\tif (this.trackUnknownProperties) {\r\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\r\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\r\n\t}\r\n\tif (error === null && notErrors.length === 0) {\r\n\t\treturn this.createError(ErrorCodes.NOT_PASSED, {}, \"\", \"/not\", null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateHypermedia = function validateCombinations(data, schema, dataPointerPath) {\r\n\tif (!schema.links) {\r\n\t\treturn null;\r\n\t}\r\n\tvar error;\r\n\tfor (var i = 0; i < schema.links.length; i++) {\r\n\t\tvar ldo = schema.links[i];\r\n\t\tif (ldo.rel === \"describedby\") {\r\n\t\t\tvar template = new UriTemplate(ldo.href);\r\n\t\t\tvar allPresent = true;\r\n\t\t\tfor (var j = 0; j < template.varNames.length; j++) {\r\n\t\t\t\tif (!(template.varNames[j] in data)) {\r\n\t\t\t\t\tallPresent = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (allPresent) {\r\n\t\t\t\tvar schemaUrl = template.fillFromObject(data);\r\n\t\t\t\tvar subSchema = {\"$ref\": schemaUrl};\r\n\t\t\t\tif (error = this.validateAll(data, subSchema, [], [\"links\", i], dataPointerPath)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// parseURI() and resolveUrl() are from https://gist.github.com/1088850\r\n//   -  released as public domain by author (\"Yaffle\") - see comments on gist\r\n\r\nfunction parseURI(url) {\r\n\tvar m = String(url).replace(/^\\s+|\\s+$/g, '').match(/^([^:\\/?#]+:)?(\\/\\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\\/?#]*)(?::(\\d*))?))?([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/);\r\n\t// authority = '//' + user + ':' + pass '@' + hostname + ':' port\r\n\treturn (m ? {\r\n\t\thref     : m[0] || '',\r\n\t\tprotocol : m[1] || '',\r\n\t\tauthority: m[2] || '',\r\n\t\thost     : m[3] || '',\r\n\t\thostname : m[4] || '',\r\n\t\tport     : m[5] || '',\r\n\t\tpathname : m[6] || '',\r\n\t\tsearch   : m[7] || '',\r\n\t\thash     : m[8] || ''\r\n\t} : null);\r\n}\r\n\r\nfunction resolveUrl(base, href) {// RFC 3986\r\n\r\n\tfunction removeDotSegments(input) {\r\n\t\tvar output = [];\r\n\t\tinput.replace(/^(\\.\\.?(\\/|$))+/, '')\r\n\t\t\t.replace(/\\/(\\.(\\/|$))+/g, '/')\r\n\t\t\t.replace(/\\/\\.\\.$/, '/../')\r\n\t\t\t.replace(/\\/?[^\\/]*/g, function (p) {\r\n\t\t\t\tif (p === '/..') {\r\n\t\t\t\t\toutput.pop();\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput.push(p);\r\n\t\t\t\t}\r\n\t\t});\r\n\t\treturn output.join('').replace(/^\\//, input.charAt(0) === '/' ? '/' : '');\r\n\t}\r\n\r\n\thref = parseURI(href || '');\r\n\tbase = parseURI(base || '');\r\n\r\n\treturn !href || !base ? null : (href.protocol || base.protocol) +\r\n\t\t(href.protocol || href.authority ? href.authority : base.authority) +\r\n\t\tremoveDotSegments(href.protocol || href.authority || href.pathname.charAt(0) === '/' ? href.pathname : (href.pathname ? ((base.authority && !base.pathname ? '/' : '') + base.pathname.slice(0, base.pathname.lastIndexOf('/') + 1) + href.pathname) : base.pathname)) +\r\n\t\t(href.protocol || href.authority || href.pathname ? href.search : (href.search || base.search)) +\r\n\t\thref.hash;\r\n}\r\n\r\nfunction getDocumentUri(uri) {\r\n\treturn uri.split('#')[0];\r\n}\r\nfunction normSchema(schema, baseUri) {\r\n\tif (schema && typeof schema === \"object\") {\r\n\t\tif (baseUri === undefined) {\r\n\t\t\tbaseUri = schema.id;\r\n\t\t} else if (typeof schema.id === \"string\") {\r\n\t\t\tbaseUri = resolveUrl(baseUri, schema.id);\r\n\t\t\tschema.id = baseUri;\r\n\t\t}\r\n\t\tif (Array.isArray(schema)) {\r\n\t\t\tfor (var i = 0; i < schema.length; i++) {\r\n\t\t\t\tnormSchema(schema[i], baseUri);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (typeof schema['$ref'] === \"string\") {\r\n\t\t\t\tschema['$ref'] = resolveUrl(baseUri, schema['$ref']);\r\n\t\t\t}\r\n\t\t\tfor (var key in schema) {\r\n\t\t\t\tif (key !== \"enum\") {\r\n\t\t\t\t\tnormSchema(schema[key], baseUri);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction defaultErrorReporter(language) {\r\n\tlanguage = language || 'en';\r\n\r\n\tvar errorMessages = languages[language];\r\n\r\n\treturn function (error) {\r\n\t\tvar messageTemplate = errorMessages[error.code] || ErrorMessagesDefault[error.code];\r\n\t\tif (typeof messageTemplate !== 'string') {\r\n\t\t\treturn \"Unknown error code \" + error.code + \": \" + JSON.stringify(error.messageParams);\r\n\t\t}\r\n\t\tvar messageParams = error.params;\r\n\t\t// Adapted from Crockford's supplant()\r\n\t\treturn messageTemplate.replace(/\\{([^{}]*)\\}/g, function (whole, varName) {\r\n\t\t\tvar subValue = messageParams[varName];\r\n\t\t\treturn typeof subValue === 'string' || typeof subValue === 'number' ? subValue : whole;\r\n\t\t});\r\n\t};\r\n}\r\n\r\nvar ErrorCodes = {\r\n\tINVALID_TYPE: 0,\r\n\tENUM_MISMATCH: 1,\r\n\tANY_OF_MISSING: 10,\r\n\tONE_OF_MISSING: 11,\r\n\tONE_OF_MULTIPLE: 12,\r\n\tNOT_PASSED: 13,\r\n\t// Numeric errors\r\n\tNUMBER_MULTIPLE_OF: 100,\r\n\tNUMBER_MINIMUM: 101,\r\n\tNUMBER_MINIMUM_EXCLUSIVE: 102,\r\n\tNUMBER_MAXIMUM: 103,\r\n\tNUMBER_MAXIMUM_EXCLUSIVE: 104,\r\n\tNUMBER_NOT_A_NUMBER: 105,\r\n\t// String errors\r\n\tSTRING_LENGTH_SHORT: 200,\r\n\tSTRING_LENGTH_LONG: 201,\r\n\tSTRING_PATTERN: 202,\r\n\t// Object errors\r\n\tOBJECT_PROPERTIES_MINIMUM: 300,\r\n\tOBJECT_PROPERTIES_MAXIMUM: 301,\r\n\tOBJECT_REQUIRED: 302,\r\n\tOBJECT_ADDITIONAL_PROPERTIES: 303,\r\n\tOBJECT_DEPENDENCY_KEY: 304,\r\n\t// Array errors\r\n\tARRAY_LENGTH_SHORT: 400,\r\n\tARRAY_LENGTH_LONG: 401,\r\n\tARRAY_UNIQUE: 402,\r\n\tARRAY_ADDITIONAL_ITEMS: 403,\r\n\t// Custom/user-defined errors\r\n\tFORMAT_CUSTOM: 500,\r\n\tKEYWORD_CUSTOM: 501,\r\n\t// Schema structure\r\n\tCIRCULAR_REFERENCE: 600,\r\n\t// Non-standard validation options\r\n\tUNKNOWN_PROPERTY: 1000\r\n};\r\nvar ErrorCodeLookup = {};\r\nfor (var key in ErrorCodes) {\r\n\tErrorCodeLookup[ErrorCodes[key]] = key;\r\n}\r\nvar ErrorMessagesDefault = {\r\n\tINVALID_TYPE: \"Invalid type: {type} (expected {expected})\",\r\n\tENUM_MISMATCH: \"No enum match for: {value}\",\r\n\tANY_OF_MISSING: \"Data does not match any schemas from \\\"anyOf\\\"\",\r\n\tONE_OF_MISSING: \"Data does not match any schemas from \\\"oneOf\\\"\",\r\n\tONE_OF_MULTIPLE: \"Data is valid against more than one schema from \\\"oneOf\\\": indices {index1} and {index2}\",\r\n\tNOT_PASSED: \"Data matches schema from \\\"not\\\"\",\r\n\t// Numeric errors\r\n\tNUMBER_MULTIPLE_OF: \"Value {value} is not a multiple of {multipleOf}\",\r\n\tNUMBER_MINIMUM: \"Value {value} is less than minimum {minimum}\",\r\n\tNUMBER_MINIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive minimum {minimum}\",\r\n\tNUMBER_MAXIMUM: \"Value {value} is greater than maximum {maximum}\",\r\n\tNUMBER_MAXIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive maximum {maximum}\",\r\n\tNUMBER_NOT_A_NUMBER: \"Value {value} is not a valid number\",\r\n\t// String errors\r\n\tSTRING_LENGTH_SHORT: \"String is too short ({length} chars), minimum {minimum}\",\r\n\tSTRING_LENGTH_LONG: \"String is too long ({length} chars), maximum {maximum}\",\r\n\tSTRING_PATTERN: \"String does not match pattern: {pattern}\",\r\n\t// Object errors\r\n\tOBJECT_PROPERTIES_MINIMUM: \"Too few properties defined ({propertyCount}), minimum {minimum}\",\r\n\tOBJECT_PROPERTIES_MAXIMUM: \"Too many properties defined ({propertyCount}), maximum {maximum}\",\r\n\tOBJECT_REQUIRED: \"Missing required property: {key}\",\r\n\tOBJECT_ADDITIONAL_PROPERTIES: \"Additional properties not allowed\",\r\n\tOBJECT_DEPENDENCY_KEY: \"Dependency failed - key must exist: {missing} (due to key: {key})\",\r\n\t// Array errors\r\n\tARRAY_LENGTH_SHORT: \"Array is too short ({length}), minimum {minimum}\",\r\n\tARRAY_LENGTH_LONG: \"Array is too long ({length}), maximum {maximum}\",\r\n\tARRAY_UNIQUE: \"Array items are not unique (indices {match1} and {match2})\",\r\n\tARRAY_ADDITIONAL_ITEMS: \"Additional items not allowed\",\r\n\t// Format errors\r\n\tFORMAT_CUSTOM: \"Format validation failed ({message})\",\r\n\tKEYWORD_CUSTOM: \"Keyword failed: {key} ({message})\",\r\n\t// Schema structure\r\n\tCIRCULAR_REFERENCE: \"Circular $refs: {urls}\",\r\n\t// Non-standard validation options\r\n\tUNKNOWN_PROPERTY: \"Unknown property (not in schema)\"\r\n};\r\n\r\nfunction ValidationError(code, params, dataPath, schemaPath, subErrors) {\r\n\tError.call(this);\r\n\tif (code === undefined) {\r\n\t\tthrow new Error (\"No error code supplied: \" + schemaPath);\r\n\t}\r\n\tthis.message = '';\r\n\tthis.params = params;\r\n\tthis.code = code;\r\n\tthis.dataPath = dataPath || \"\";\r\n\tthis.schemaPath = schemaPath || \"\";\r\n\tthis.subErrors = subErrors || null;\r\n\r\n\tvar err = new Error(this.message);\r\n\tthis.stack = err.stack || err.stacktrace;\r\n\tif (!this.stack) {\r\n\t\ttry {\r\n\t\t\tthrow err;\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tthis.stack = err.stack || err.stacktrace;\r\n\t\t}\r\n\t}\r\n}\r\nValidationError.prototype = Object.create(Error.prototype);\r\nValidationError.prototype.constructor = ValidationError;\r\nValidationError.prototype.name = 'ValidationError';\r\n\r\nValidationError.prototype.prefixWith = function (dataPrefix, schemaPrefix) {\r\n\tif (dataPrefix !== null) {\r\n\t\tdataPrefix = dataPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\r\n\t\tthis.dataPath = \"/\" + dataPrefix + this.dataPath;\r\n\t}\r\n\tif (schemaPrefix !== null) {\r\n\t\tschemaPrefix = schemaPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\r\n\t\tthis.schemaPath = \"/\" + schemaPrefix + this.schemaPath;\r\n\t}\r\n\tif (this.subErrors !== null) {\r\n\t\tfor (var i = 0; i < this.subErrors.length; i++) {\r\n\t\t\tthis.subErrors[i].prefixWith(dataPrefix, schemaPrefix);\r\n\t\t}\r\n\t}\r\n\treturn this;\r\n};\r\n\r\nfunction isTrustedUrl(baseUrl, testUrl) {\r\n\tif(testUrl.substring(0, baseUrl.length) === baseUrl){\r\n\t\tvar remainder = testUrl.substring(baseUrl.length);\r\n\t\tif ((testUrl.length > 0 && testUrl.charAt(baseUrl.length - 1) === \"/\")\r\n\t\t\t|| remainder.charAt(0) === \"#\"\r\n\t\t\t|| remainder.charAt(0) === \"?\") {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nvar languages = {};\r\nfunction createApi(language) {\r\n\tvar globalContext = new ValidatorContext();\r\n\tvar currentLanguage;\r\n\tvar customErrorReporter;\r\n\tvar api = {\r\n\t\tsetErrorReporter: function (reporter) {\r\n\t\t\tif (typeof reporter === 'string') {\r\n\t\t\t\treturn this.language(reporter);\r\n\t\t\t}\r\n\t\t\tcustomErrorReporter = reporter;\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\taddFormat: function () {\r\n\t\t\tglobalContext.addFormat.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tlanguage: function (code) {\r\n\t\t\tif (!code) {\r\n\t\t\t\treturn currentLanguage;\r\n\t\t\t}\r\n\t\t\tif (!languages[code]) {\r\n\t\t\t\tcode = code.split('-')[0]; // fall back to base language\r\n\t\t\t}\r\n\t\t\tif (languages[code]) {\r\n\t\t\t\tcurrentLanguage = code;\r\n\t\t\t\treturn code; // so you can tell if fall-back has happened\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\taddLanguage: function (code, messageMap) {\r\n\t\t\tvar key;\r\n\t\t\tfor (key in ErrorCodes) {\r\n\t\t\t\tif (messageMap[key] && !messageMap[ErrorCodes[key]]) {\r\n\t\t\t\t\tmessageMap[ErrorCodes[key]] = messageMap[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar rootCode = code.split('-')[0];\r\n\t\t\tif (!languages[rootCode]) { // use for base language if not yet defined\r\n\t\t\t\tlanguages[code] = messageMap;\r\n\t\t\t\tlanguages[rootCode] = messageMap;\r\n\t\t\t} else {\r\n\t\t\t\tlanguages[code] = Object.create(languages[rootCode]);\r\n\t\t\t\tfor (key in messageMap) {\r\n\t\t\t\t\tif (typeof languages[rootCode][key] === 'undefined') {\r\n\t\t\t\t\t\tlanguages[rootCode][key] = messageMap[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlanguages[code][key] = messageMap[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tfreshApi: function (language) {\r\n\t\t\tvar result = createApi();\r\n\t\t\tif (language) {\r\n\t\t\t\tresult.language(language);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tvalidate: function (data, schema, checkRecursive, banUnknownProperties) {\r\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\r\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\r\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\r\n\t\t\t} : def;\r\n\t\t\tvar context = new ValidatorContext(globalContext, false, errorReporter, checkRecursive, banUnknownProperties);\r\n\t\t\tif (typeof schema === \"string\") {\r\n\t\t\t\tschema = {\"$ref\": schema};\r\n\t\t\t}\r\n\t\t\tcontext.addSchema(\"\", schema);\r\n\t\t\tvar error = context.validateAll(data, schema, null, null, \"\");\r\n\t\t\tif (!error && banUnknownProperties) {\r\n\t\t\t\terror = context.banUnknownProperties(data, schema);\r\n\t\t\t}\r\n\t\t\tthis.error = error;\r\n\t\t\tthis.missing = context.missing;\r\n\t\t\tthis.valid = (error === null);\r\n\t\t\treturn this.valid;\r\n\t\t},\r\n\t\tvalidateResult: function () {\r\n\t\t\tvar result = {toString: function () {\r\n\t\t\t\treturn this.valid ? 'valid' : this.error.message;\r\n\t\t\t}};\r\n\t\t\tthis.validate.apply(result, arguments);\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tvalidateMultiple: function (data, schema, checkRecursive, banUnknownProperties) {\r\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\r\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\r\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\r\n\t\t\t} : def;\r\n\t\t\tvar context = new ValidatorContext(globalContext, true, errorReporter, checkRecursive, banUnknownProperties);\r\n\t\t\tif (typeof schema === \"string\") {\r\n\t\t\t\tschema = {\"$ref\": schema};\r\n\t\t\t}\r\n\t\t\tcontext.addSchema(\"\", schema);\r\n\t\t\tcontext.validateAll(data, schema, null, null, \"\");\r\n\t\t\tif (banUnknownProperties) {\r\n\t\t\t\tcontext.banUnknownProperties(data, schema);\r\n\t\t\t}\r\n\t\t\tvar result = {toString: function () {\r\n\t\t\t\treturn this.valid ? 'valid' : this.error.message;\r\n\t\t\t}};\r\n\t\t\tresult.errors = context.errors;\r\n\t\t\tresult.missing = context.missing;\r\n\t\t\tresult.valid = (result.errors.length === 0);\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\taddSchema: function () {\r\n\t\t\treturn globalContext.addSchema.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetSchema: function () {\r\n\t\t\treturn globalContext.getSchema.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetSchemaMap: function () {\r\n\t\t\treturn globalContext.getSchemaMap.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetSchemaUris: function () {\r\n\t\t\treturn globalContext.getSchemaUris.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetMissingUris: function () {\r\n\t\t\treturn globalContext.getMissingUris.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tdropSchemas: function () {\r\n\t\t\tglobalContext.dropSchemas.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tdefineKeyword: function () {\r\n\t\t\tglobalContext.defineKeyword.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tdefineError: function (codeName, codeNumber, defaultMessage) {\r\n\t\t\tif (typeof codeName !== 'string' || !/^[A-Z]+(_[A-Z]+)*$/.test(codeName)) {\r\n\t\t\t\tthrow new Error('Code name must be a string in UPPER_CASE_WITH_UNDERSCORES');\r\n\t\t\t}\r\n\t\t\tif (typeof codeNumber !== 'number' || codeNumber%1 !== 0 || codeNumber < 10000) {\r\n\t\t\t\tthrow new Error('Code number must be an integer > 10000');\r\n\t\t\t}\r\n\t\t\tif (typeof ErrorCodes[codeName] !== 'undefined') {\r\n\t\t\t\tthrow new Error('Error already defined: ' + codeName + ' as ' + ErrorCodes[codeName]);\r\n\t\t\t}\r\n\t\t\tif (typeof ErrorCodeLookup[codeNumber] !== 'undefined') {\r\n\t\t\t\tthrow new Error('Error code already used: ' + ErrorCodeLookup[codeNumber] + ' as ' + codeNumber);\r\n\t\t\t}\r\n\t\t\tErrorCodes[codeName] = codeNumber;\r\n\t\t\tErrorCodeLookup[codeNumber] = codeName;\r\n\t\t\tErrorMessagesDefault[codeName] = ErrorMessagesDefault[codeNumber] = defaultMessage;\r\n\t\t\tfor (var langCode in languages) {\r\n\t\t\t\tvar language = languages[langCode];\r\n\t\t\t\tif (language[codeName]) {\r\n\t\t\t\t\tlanguage[codeNumber] = language[codeNumber] || language[codeName];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\treset: function () {\r\n\t\t\tglobalContext.reset();\r\n\t\t\tthis.error = null;\r\n\t\t\tthis.missing = [];\r\n\t\t\tthis.valid = true;\r\n\t\t},\r\n\t\tmissing: [],\r\n\t\terror: null,\r\n\t\tvalid: true,\r\n\t\tnormSchema: normSchema,\r\n\t\tresolveUrl: resolveUrl,\r\n\t\tgetDocumentUri: getDocumentUri,\r\n\t\terrorCodes: ErrorCodes\r\n\t};\r\n\tapi.language(language || 'en');\r\n\treturn api;\r\n}\r\n\r\nvar tv4 = createApi();\r\ntv4.addLanguage('en-gb', ErrorMessagesDefault);\r\n\r\n//legacy property\r\ntv4.tv4 = tv4;\r\n\r\nreturn tv4; // used by _header.js to globalise.\r\n\r\n}));","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\nvar each = require('foreach');\nmodule.exports = api;\n\n\n/**\n * Convenience wrapper around the api.\n * Calls `.get` when called with an `object` and a `pointer`.\n * Calls `.set` when also called with `value`.\n * If only supplied `object`, returns a partially applied function, mapped to the object.\n *\n * @param {Object} obj\n * @param {String|Array} pointer\n * @param value\n * @returns {*}\n */\n\nfunction api (obj, pointer, value) {\n    // .set()\n    if (arguments.length === 3) {\n        return api.set(obj, pointer, value);\n    }\n    // .get()\n    if (arguments.length === 2) {\n        return api.get(obj, pointer);\n    }\n    // Return a partially applied function on `obj`.\n    var wrapped = api.bind(api, obj);\n\n    // Support for oo style\n    for (var name in api) {\n        if (api.hasOwnProperty(name)) {\n            wrapped[name] = api[name].bind(wrapped, obj);\n        }\n    }\n    return wrapped;\n}\n\n\n/**\n * Lookup a json pointer in an object\n *\n * @param {Object} obj\n * @param {String|Array} pointer\n * @returns {*}\n */\napi.get = function get (obj, pointer) {\n    var refTokens = Array.isArray(pointer) ? pointer : api.parse(pointer);\n\n    for (var i = 0; i < refTokens.length; ++i) {\n        var tok = refTokens[i];\n        if (!(typeof obj == 'object' && tok in obj)) {\n            throw new Error('Invalid reference token: ' + tok);\n        }\n        obj = obj[tok];\n    }\n    return obj;\n};\n\n/**\n * Sets a value on an object\n *\n * @param {Object} obj\n * @param {String|Array} pointer\n * @param value\n */\napi.set = function set (obj, pointer, value) {\n    var refTokens = Array.isArray(pointer) ? pointer : api.parse(pointer),\n      nextTok = refTokens[0];\n\n    for (var i = 0; i < refTokens.length - 1; ++i) {\n        var tok = refTokens[i];\n        if (tok === '-' && Array.isArray(obj)) {\n          tok = obj.length;\n        }\n        nextTok = refTokens[i + 1];\n\n        if (!(tok in obj)) {\n            if (nextTok.match(/^(\\d+|-)$/)) {\n                obj[tok] = [];\n            } else {\n                obj[tok] = {};\n            }\n        }\n        obj = obj[tok];\n    }\n    if (nextTok === '-' && Array.isArray(obj)) {\n      nextTok = obj.length;\n    }\n    obj[nextTok] = value;\n    return this;\n};\n\n/**\n * Removes an attribute\n *\n * @param {Object} obj\n * @param {String|Array} pointer\n */\napi.remove = function (obj, pointer) {\n    var refTokens = Array.isArray(pointer) ? pointer : api.parse(pointer);\n    var finalToken = refTokens[refTokens.length -1];\n    if (finalToken === undefined) {\n        throw new Error('Invalid JSON pointer for remove: \"' + pointer + '\"');\n    }\n\n    var parent = api.get(obj, refTokens.slice(0, -1));\n    if (Array.isArray(parent)) {\n      var index = +finalToken;\n      if (finalToken === '' && isNaN(index)) {\n        throw new Error('Invalid array index: \"' + finalToken + '\"');\n      }\n\n      Array.prototype.splice.call(parent, index, 1);\n    } else {\n      delete parent[finalToken];\n    }\n};\n\n/**\n * Returns a (pointer -> value) dictionary for an object\n *\n * @param obj\n * @param {function} descend\n * @returns {}\n */\napi.dict = function dict (obj, descend) {\n    var results = {};\n    api.walk(obj, function (value, pointer) {\n        results[pointer] = value;\n    }, descend);\n    return results;\n};\n\n/**\n * Iterates over an object\n * Iterator: function (value, pointer) {}\n *\n * @param obj\n * @param {function} iterator\n * @param {function} descend\n */\napi.walk = function walk (obj, iterator, descend) {\n    var refTokens = [];\n\n    descend = descend || function (value) {\n        var type = Object.prototype.toString.call(value);\n        return type === '[object Object]' || type === '[object Array]';\n    };\n\n    (function next (cur) {\n        each(cur, function (value, key) {\n            refTokens.push(String(key));\n            if (descend(value)) {\n                next(value);\n            } else {\n                iterator(value, api.compile(refTokens));\n            }\n            refTokens.pop();\n        });\n    }(obj));\n};\n\n/**\n * Tests if an object has a value for a json pointer\n *\n * @param obj\n * @param pointer\n * @returns {boolean}\n */\napi.has = function has (obj, pointer) {\n    try {\n        api.get(obj, pointer);\n    } catch (e) {\n        return false;\n    }\n    return true;\n};\n\n/**\n * Escapes a reference token\n *\n * @param str\n * @returns {string}\n */\napi.escape = function escape (str) {\n    return str.toString().replace(/~/g, '~0').replace(/\\//g, '~1');\n};\n\n/**\n * Unescapes a reference token\n *\n * @param str\n * @returns {string}\n */\napi.unescape = function unescape (str) {\n    return str.replace(/~1/g, '/').replace(/~0/g, '~');\n};\n\n/**\n * Converts a json pointer into a array of reference tokens\n *\n * @param pointer\n * @returns {Array}\n */\napi.parse = function parse (pointer) {\n    if (pointer === '') { return []; }\n    if (pointer.charAt(0) !== '/') { throw new Error('Invalid JSON pointer: ' + pointer); }\n    return pointer.substring(1).split(/\\//).map(api.unescape);\n};\n\n/**\n * Builds a json pointer from a array of reference tokens\n *\n * @param refTokens\n * @returns {string}\n */\napi.compile = function compile (refTokens) {\n    if (refTokens.length === 0) { return ''; }\n    return '/' + refTokens.map(api.escape).join('/');\n};\n","/**\n * Parses JSON.\n *\n * Previously we've used jsonlint and jju for parsing. While we've stepped\n * back to use plain JSON.parse(), we keep our doors open to switch the parser\n * - which is the reason why this is abstracted into parseJson()\n */\nconst parseJson = (json, revivew) => {\n  return JSON.parse(json, revivew);\n};\n\nmodule.exports = parseJson;\n","module.exports = {\n  $schema: 'http://json-schema.org/draft-03/schema#',\n  id: 'http://json-schema.org/draft-03/schema#',\n  type: 'object',\n\n  properties: {\n    type: {\n      type: ['string', 'array'],\n      items: {\n        type: ['string', { $ref: '#' }],\n      },\n      uniqueItems: true,\n      default: 'any',\n    },\n\n    properties: {\n      type: 'object',\n      additionalProperties: { $ref: '#' },\n      default: {},\n    },\n\n    patternProperties: {\n      type: 'object',\n      additionalProperties: { $ref: '#' },\n      default: {},\n    },\n\n    additionalProperties: {\n      type: [{ $ref: '#' }, 'boolean'],\n      default: {},\n    },\n\n    items: {\n      type: [{ $ref: '#' }, 'array'],\n      items: { $ref: '#' },\n      default: {},\n    },\n\n    additionalItems: {\n      type: [{ $ref: '#' }, 'boolean'],\n      default: {},\n    },\n\n    required: {\n      type: 'boolean',\n      default: false,\n    },\n\n    dependencies: {\n      type: 'object',\n      additionalProperties: {\n        type: ['string', 'array', { $ref: '#' }],\n        items: {\n          type: 'string',\n        },\n      },\n      default: {},\n    },\n\n    minimum: {\n      type: 'number',\n    },\n\n    maximum: {\n      type: 'number',\n    },\n\n    exclusiveMinimum: {\n      type: 'boolean',\n      default: false,\n    },\n\n    exclusiveMaximum: {\n      type: 'boolean',\n      default: false,\n    },\n\n    minItems: {\n      type: 'integer',\n      minimum: 0,\n      default: 0,\n    },\n\n    maxItems: {\n      type: 'integer',\n      minimum: 0,\n    },\n\n    uniqueItems: {\n      type: 'boolean',\n      default: false,\n    },\n\n    pattern: {\n      type: 'string',\n      format: 'regex',\n    },\n\n    minLength: {\n      type: 'integer',\n      minimum: 0,\n      default: 0,\n    },\n\n    maxLength: {\n      type: 'integer',\n    },\n\n    enum: {\n      type: 'array',\n      minItems: 1,\n      uniqueItems: true,\n    },\n\n    default: {\n      type: 'any',\n    },\n\n    title: {\n      type: 'string',\n    },\n\n    description: {\n      type: 'string',\n    },\n\n    format: {\n      type: 'string',\n    },\n\n    divisibleBy: {\n      type: 'number',\n      minimum: 0,\n      exclusiveMinimum: true,\n      default: 1,\n    },\n\n    disallow: {\n      type: ['string', 'array'],\n      items: {\n        type: ['string', { $ref: '#' }],\n      },\n      uniqueItems: true,\n    },\n\n    extends: {\n      type: [{ $ref: '#' }, 'array'],\n      items: { $ref: '#' },\n      default: {},\n    },\n\n    id: {\n      type: 'string',\n      format: 'uri',\n    },\n\n    $ref: {\n      type: 'string',\n      format: 'uri',\n    },\n\n    $schema: {\n      type: 'string',\n      format: 'uri',\n    },\n  },\n\n  dependencies: {\n    exclusiveMinimum: 'minimum',\n    exclusiveMaximum: 'maximum',\n  },\n\n  default: {},\n}\n","module.exports = {\n  id: 'http://json-schema.org/draft-04/schema#',\n  $schema: 'http://json-schema.org/draft-04/schema#',\n  description: 'Core schema meta-schema',\n  definitions: {\n    schemaArray: {\n      type: 'array',\n      minItems: 1,\n      items: { $ref: '#' },\n    },\n    positiveInteger: {\n      type: 'integer',\n      minimum: 0,\n    },\n    positiveIntegerDefault0: {\n      allOf: [{ $ref: '#/definitions/positiveInteger' }, { default: 0 }],\n    },\n    simpleTypes: {\n      enum: [\n        'array',\n        'boolean',\n        'integer',\n        'null',\n        'number',\n        'object',\n        'string',\n      ],\n    },\n    stringArray: {\n      type: 'array',\n      items: { type: 'string' },\n      minItems: 1,\n      uniqueItems: true,\n    },\n  },\n  type: 'object',\n  properties: {\n    id: {\n      type: 'string',\n      format: 'uri',\n    },\n    $schema: {\n      type: 'string',\n      format: 'uri',\n    },\n    title: {\n      type: 'string',\n    },\n    description: {\n      type: 'string',\n    },\n    default: {},\n    multipleOf: {\n      type: 'number',\n      minimum: 0,\n      exclusiveMinimum: true,\n    },\n    maximum: {\n      type: 'number',\n    },\n    exclusiveMaximum: {\n      type: 'boolean',\n      default: false,\n    },\n    minimum: {\n      type: 'number',\n    },\n    exclusiveMinimum: {\n      type: 'boolean',\n      default: false,\n    },\n    maxLength: { $ref: '#/definitions/positiveInteger' },\n    minLength: { $ref: '#/definitions/positiveIntegerDefault0' },\n    pattern: {\n      type: 'string',\n      format: 'regex',\n    },\n    additionalItems: {\n      anyOf: [{ type: 'boolean' }, { $ref: '#' }],\n      default: {},\n    },\n    items: {\n      anyOf: [{ $ref: '#' }, { $ref: '#/definitions/schemaArray' }],\n      default: {},\n    },\n    maxItems: { $ref: '#/definitions/positiveInteger' },\n    minItems: { $ref: '#/definitions/positiveIntegerDefault0' },\n    uniqueItems: {\n      type: 'boolean',\n      default: false,\n    },\n    maxProperties: { $ref: '#/definitions/positiveInteger' },\n    minProperties: { $ref: '#/definitions/positiveIntegerDefault0' },\n    required: { $ref: '#/definitions/stringArray' },\n    additionalProperties: {\n      anyOf: [{ type: 'boolean' }, { $ref: '#' }],\n      default: {},\n    },\n    definitions: {\n      type: 'object',\n      additionalProperties: { $ref: '#' },\n      default: {},\n    },\n    properties: {\n      type: 'object',\n      additionalProperties: { $ref: '#' },\n      default: {},\n    },\n    patternProperties: {\n      type: 'object',\n      additionalProperties: { $ref: '#' },\n      default: {},\n    },\n    dependencies: {\n      type: 'object',\n      additionalProperties: {\n        anyOf: [{ $ref: '#' }, { $ref: '#/definitions/stringArray' }],\n      },\n    },\n    enum: {\n      type: 'array',\n      minItems: 1,\n      uniqueItems: true,\n    },\n    type: {\n      anyOf: [\n        { $ref: '#/definitions/simpleTypes' },\n        {\n          type: 'array',\n          items: { $ref: '#/definitions/simpleTypes' },\n          minItems: 1,\n          uniqueItems: true,\n        },\n      ],\n    },\n    allOf: { $ref: '#/definitions/schemaArray' },\n    anyOf: { $ref: '#/definitions/schemaArray' },\n    oneOf: { $ref: '#/definitions/schemaArray' },\n    not: { $ref: '#' },\n  },\n  dependencies: {\n    exclusiveMaximum: ['maximum'],\n    exclusiveMinimum: ['minimum'],\n  },\n  default: {},\n}\n","class ValidationErrors {\n  constructor(jsonErrors) {\n    this.length = jsonErrors ? jsonErrors.length : 0;\n\n    if (this.length > 0) {\n      for (let i = 0; i < this.length; i++) {\n        this[i] = jsonErrors[i];\n      }\n    }\n  }\n}\n\nmodule.exports = {\n  ValidationErrors\n};\n","const amanda = require('amanda');\nconst deepEqual = require('deep-equal');\nconst tv4 = require('tv4');\nconst jsonPointer = require('json-pointer');\n\nconst parseJson = require('../utils/parseJson');\nconst metaSchemaV3 = require('../meta-schema-v3');\nconst metaSchemaV4 = require('../meta-schema-v4');\nconst errors = require('../errors');\nconst { ValidationErrors } = require('./validation-errors');\n\nconst SCHEMA_V3 = 'http://json-schema.org/draft-03/schema';\nconst SCHEMA_V4 = 'http://json-schema.org/draft-04/schema';\n\n/**\n * @param {Object} schema\n * @returns {[Object, string] | null} Tuple of [schemaMeta, schemaVersion]\n */\nconst getSchemaMeta = (schema) => {\n  if (schema && schema.$schema && schema.$schema.includes(SCHEMA_V3)) {\n    return [metaSchemaV3, 'v3'];\n  }\n\n  if (schema && schema.$schema && schema.$schema.includes(SCHEMA_V4)) {\n    return [metaSchemaV4, 'v4'];\n  }\n\n  return null;\n};\n\n/**\n * Returns a proper article for a given string.\n * @param {string} str\n * @returns {string}\n */\nfunction getArticle(str) {\n  const vowels = ['a', 'e', 'i', 'o', 'u'];\n  return vowels.includes(str.toLowerCase()) ? 'an' : 'a';\n}\n\nconst jsonSchemaOptions = {\n  singleError: false,\n  messages: {\n    minLength: (prop, val, validator) =>\n      `The ${prop} property must be at least ${validator} characters long (currently ${val.length} characters long).`,\n    maxLength: (prop, val, validator) =>\n      `The ${prop} property must not exceed ${validator} characters (currently${val.length} characters long).`,\n    length: (prop, val, validator) =>\n      `The ${prop} property must be exactly ${validator} characters long (currently ${val.length} characters long).`,\n    format: (prop, val, validator) =>\n      `The ${prop} property must be ${getArticle(\n        validator[0]\n      )} ${validator} (current value is ${JSON.stringify(val)}).`,\n    type: (prop, val, validator) =>\n      `The ${prop} property must be ${getArticle(\n        validator[0]\n      )} ${validator} (current value is ${JSON.stringify(val)}).\"`,\n    except: (prop, val) => `The ${prop} property must not be ${val}.`,\n    minimum: (prop, val, validator) =>\n      `The minimum value of the ${prop} must be ${validator} (current value is ${JSON.stringify(\n        val\n      )}).`,\n    maximum: (prop, val, validator) =>\n      `The maximum value of the ${prop} must be ${validator} (current value is ${JSON.stringify(\n        val\n      )}).`,\n    pattern: (prop, val, validator) =>\n      `The ${prop} value (${val}) does not match the ${validator} pattern.`,\n    maxItems: (prop, val, validator) =>\n      `The ${prop} property must not contain more than ${validator} items (currently contains ${val.length} items).`,\n    minItems: (prop, val, validator) =>\n      `The ${prop} property must contain at least ${validator} items (currently contains ${val.length} items).`,\n    divisibleBy: (prop, val, validator) =>\n      `The ${prop} property is not divisible by ${validator} (current value is ${JSON.stringify(\n        val\n      )}).`,\n    uniqueItems: (prop) => `All items in the ${prop} property must be unique.`\n  }\n};\n\nclass JsonSchema {\n  /**\n   * Constructs a JsonValidator and validates given data.\n   * @param {Object | string} schema\n   * @param {Object | string} data\n   */\n  constructor(schema, data) {\n    this.schema = schema;\n    this.data = data;\n\n    if (typeof this.data === 'string') {\n      try {\n        this.data = parseJson(this.data);\n      } catch (error) {\n        const outError = new errors.DataNotJsonParsableError(\n          `JSON validator: body: ${error.message}`\n        );\n        outError.data = this.data;\n        throw outError;\n      }\n    }\n\n    if (typeof this.schema === 'string') {\n      try {\n        this.schema = parseJson(this.schema);\n      } catch (error) {\n        const outError = new errors.SchemaNotJsonParsableError(\n          `JSON validator: schema: ${error.message}`\n        );\n        outError.schema = this.schema;\n        throw outError;\n      }\n    }\n\n    this.jsonSchemaVersion = null;\n    this.validateSchema();\n  }\n\n  validateSchema() {\n    const [metaSchema, schemaVersion] = getSchemaMeta(this.schema) || [];\n\n    if (metaSchema) {\n      this.jsonSchemaVersion = schemaVersion;\n\n      if (metaSchema.$schema) {\n        tv4.reset();\n        tv4.addSchema('', metaSchema);\n        tv4.addSchema(metaSchema.$schema, metaSchema);\n        const validationResult = tv4.validateResult(this.schema, metaSchema);\n        if (!validationResult.valid) {\n          throw new errors.JsonSchemaNotValid(\n            `JSON schema is not valid draft ${this.jsonSchemaVersion}! ${validationResult.error.message} at path \"${validationResult.error.dataPath}\"`\n          );\n        }\n      }\n    } else {\n      if (metaSchemaV3.$schema) {\n        tv4.reset();\n        tv4.addSchema('', metaSchemaV3);\n        tv4.addSchema(metaSchemaV3.$schema, metaSchemaV3);\n        const validationResult = tv4.validateResult(this.schema, metaSchemaV3);\n\n        if (validationResult && validationResult.valid) {\n          this.jsonSchemaVersion = 'v3';\n          return;\n        }\n      }\n\n      if (metaSchemaV4.$schema) {\n        tv4.reset();\n        tv4.addSchema('', metaSchemaV4);\n        tv4.addSchema(metaSchemaV4.$schema, metaSchemaV4);\n        const validationResult = tv4.validateResult(this.schema, metaSchemaV4);\n\n        if (validationResult && validationResult.valid) {\n          this.jsonSchemaVersion = 'v4';\n          return;\n        }\n      }\n\n      if (this.jsonSchemaVersion === null) {\n        throw new errors.JsonSchemaNotValid(\n          'JSON schema is not valid draft v3 or draft v4!'\n        );\n      }\n    }\n  }\n\n  validate() {\n    if (\n      this.data !== null &&\n      typeof this.data === 'object' &&\n      this.schema.empty\n    ) {\n      this.output = {\n        length: 0,\n        errorMessages: {}\n      };\n      return new ValidationErrors(this.output);\n    }\n\n    const hasSameData = deepEqual(this.data, this.usedData, { strict: true });\n    const hasSameSchema = hasSameData\n      ? deepEqual(this.schema, this.usedSchema, { strict: true })\n      : true;\n\n    if (!hasSameData || !hasSameSchema) {\n      this.output = this.validatePrivate();\n    }\n\n    return this.output;\n  }\n\n  validatePrivate() {\n    this.usedData = this.data;\n    this.usedSchema = this.schema;\n\n    switch (this.jsonSchemaVersion) {\n      case 'v3':\n        return this.validateSchemaV3();\n      case 'v4':\n        return this.validateSchemaV4();\n      default:\n        throw new Error(\"JSON schema version not identified, can't validate!\");\n    }\n  }\n\n  /**\n   * Converts TV4 output to Gavel results.\n   */\n  evaluateOutputToResults(data) {\n    if (!data) {\n      data = this.output;\n    }\n\n    if (!data) {\n      return [];\n    }\n\n    const results = Array.from({ length: data.length }, (_, index) => {\n      const item = data[index];\n      const { message, property } = item;\n      let pathArray = [];\n\n      if (property === null) {\n        pathArray = [];\n      } else if (\n        Array.isArray(property) &&\n        property.length === 1 &&\n        [null, undefined].includes(property[0])\n      ) {\n        pathArray = [];\n      } else {\n        pathArray = property;\n      }\n\n      return {\n        message,\n        location: {\n          pointer: jsonPointer.compile(pathArray),\n          property\n        }\n      };\n    });\n\n    return results;\n  }\n\n  validateSchemaV3() {\n    try {\n      return amanda.validate(\n        this.data,\n        this.schema,\n        jsonSchemaOptions,\n        (error) => {\n          if (error && error.length > 0) {\n            for (let i = 0; i < error.length; i++) {\n              if (error[i].property === '') {\n                error[i].property = [];\n              }\n            }\n            this.errors = new ValidationErrors(error);\n            return this.errors;\n          }\n        }\n      );\n    } catch (error) {\n      this.errors = new ValidationErrors({\n        '0': {\n          property: [],\n          attributeValue: true,\n          message: `Validator internal error: ${error.message}`,\n          validatorName: 'error'\n        },\n        length: 1,\n        errorMessages: {}\n      });\n\n      return this.errors;\n    }\n  }\n\n  validateSchemaV4() {\n    const result = tv4.validateMultiple(this.data, this.schema);\n    const validationErrors = result.errors.concat(result.missing);\n\n    const amandaCompatibleError = {\n      length: validationErrors.length,\n      errorMessages: {}\n    };\n\n    for (let index = 0; index < validationErrors.length; index++) {\n      const validationError = validationErrors[index];\n      let error;\n\n      if (validationError instanceof Error) {\n        error = validationError;\n      } else {\n        error = new Error('Missing schema');\n        error.params = { key: validationError };\n        error.dataPath = '';\n      }\n\n      const pathArray = jsonPointer\n        .parse(error.dataPath)\n        .concat(error.params.key || []);\n      const pointer = jsonPointer.compile(pathArray);\n\n      amandaCompatibleError[index] = {\n        message: `At '${pointer}' ${error.message}`,\n        property: pathArray,\n        attributeValue: true,\n        validatorName: 'error'\n      };\n    }\n\n    this.errors = new ValidationErrors(amandaCompatibleError);\n    return this.errors;\n  }\n}\n\nmodule.exports = {\n  JsonSchema\n};\n","const nativeJsObjects = {\n  '[object Arguments]': 'arguments',\n  '[object Array]': 'array',\n  '[object Date]': 'date',\n  '[object Function]': 'function',\n  '[object Number]': 'number',\n  '[object RegExp]': 'regexp',\n  '[object String]': 'string',\n  '[object Null]': 'null',\n  '[object Undefined]': 'undefined',\n  '[object Object]': 'object'\n};\n\nfunction stringifyType(any) {\n  return Object.prototype.toString.call(any);\n}\n\nfunction getType(any) {\n  const type = stringifyType(any);\n\n  return Object.prototype.hasOwnProperty.call(nativeJsObjects, type)\n    ? nativeJsObjects[type]\n    : typeof any;\n}\n\nmodule.exports = getType;\n","const getType = require('./get-type');\nconst parseJson = require('./parseJson');\n\nconst SCHEMA_VERSION = 'http://json-schema.org/draft-04/schema#';\n\nclass SchemaV4Properties {\n  /**\n   * @param {boolean} keyStrict\n   * @param {string[] | boolean} valuesStrict\n   * @param {boolean} typesStrict\n   */\n  constructor({ keysStrict, valuesStrict, typesStrict }) {\n    this.set({ keysStrict, valuesStrict, typesStrict });\n  }\n\n  /**\n   * @option {boolean} keyStrict\n   * @option {string[] | boolean} valuesStrict\n   * @option {boolean} typesStrict\n   */\n  set({ keysStrict, valuesStrict, typesStrict }) {\n    this.keysStrict = keysStrict || false;\n    this.valuesStrict = valuesStrict || false;\n    this.typesStrict = typesStrict || false;\n  }\n}\n\nclass SchemaV4Generator {\n  /**\n   * @option {Object} json\n   * @option {SchemaProperties} properties\n   */\n  constructor({ json, properties }) {\n    this.json = typeof json === 'string' ? parseJson(json) : json;\n\n    this.schema = undefined;\n    this.properties = properties || new SchemaV4Properties({});\n\n    if (Array.isArray(this.properties.valuesStrict)) {\n      this.properties.valuesStrict = this.properties.valuesStrict.map((value) =>\n        value.toLowerCase()\n      );\n    }\n  }\n\n  /**\n   * @returns {Object} Generated JSON schema.\n   */\n  generate() {\n    this.schema = this.getSchemaForObject({\n      baseObject: this.json,\n      objectId: undefined,\n      firstLevel: true,\n      properties: this.properties\n    });\n\n    return this.schema;\n  }\n\n  getSchemaTypeFor(value) {\n    const valueType = getType(value);\n\n    if (value === null) {\n      return 'null';\n    }\n    if (valueType === 'array') {\n      return 'array';\n    }\n    if (valueType === 'number' && value % 1 === 0) {\n      return 'integer';\n    }\n\n    return valueType;\n  }\n\n  isBaseType(type) {\n    return !['array', 'object'].includes(type);\n  }\n\n  getSchemaForObject({ baseObject, objectId, firstLevel, properties }) {\n    let getSchemaForObjectProperties;\n    if (firstLevel == null) {\n      firstLevel = true;\n    }\n\n    if (!properties) {\n      properties = new SchemaV4Properties();\n    }\n    const schemaDict = {};\n\n    if (firstLevel) {\n      schemaDict.$schema = SCHEMA_VERSION;\n      schemaDict.id = '#';\n    }\n\n    if (objectId != null) {\n      schemaDict.id = objectId;\n    }\n\n    const schemaType = this.getSchemaTypeFor(baseObject);\n\n    const hasKeys =\n      baseObject !== null &&\n      typeof baseObject === 'object' &&\n      Object.keys(baseObject).length > 0;\n\n    if (schemaType === 'object') {\n      if (properties.keysStrict) {\n        schemaDict.additionalProperties = false;\n      } else {\n        schemaDict.additionalProperties = true;\n      }\n    } else if (schemaType === 'array') {\n      if (properties.keysStrict) {\n        schemaDict.additionalItems = false;\n      } else {\n        schemaDict.additionalItems = true;\n      }\n    }\n\n    if (properties.valuesStrict === true && this.isBaseType(schemaType)) {\n      schemaDict.enum = [baseObject];\n    } else if (\n      Array.isArray(properties.valuesStrict) &&\n      this.isBaseType(schemaType)\n    ) {\n      if (\n        properties.valuesStrict.indexOf(\n          objectId != null ? objectId.toLowerCase() : undefined\n        ) > -1\n      ) {\n        schemaDict.enum = [baseObject];\n      }\n    }\n\n    if (\n      (properties.typesStrict && this.isBaseType(schemaType)) ||\n      !this.isBaseType(schemaType) ||\n      firstLevel === true\n    ) {\n      schemaDict.type = schemaType;\n    }\n\n    if (schemaType === 'object' && hasKeys) {\n      schemaDict.required = [];\n      schemaDict.properties = {};\n\n      Object.keys(baseObject || {}).forEach((prop) => {\n        const value = baseObject[prop];\n        getSchemaForObjectProperties = {\n          baseObject: value,\n          objectId: prop,\n          firstLevel: false,\n          properties\n        };\n        schemaDict.properties[prop] = this.getSchemaForObject(\n          getSchemaForObjectProperties\n        );\n        schemaDict.required.push(prop);\n      });\n    } else if (schemaType === 'array' && baseObject.length > 0) {\n      schemaDict.items = [];\n\n      for (let itemIndex = 0; itemIndex < baseObject.length; itemIndex++) {\n        const item = baseObject[itemIndex];\n        getSchemaForObjectProperties = {\n          baseObject: item,\n          objectId: itemIndex.toString(),\n          firstLevel: false,\n          properties\n        };\n        schemaDict.items.push(\n          this.getSchemaForObject(getSchemaForObjectProperties)\n        );\n      }\n    }\n\n    return schemaDict;\n  }\n}\n\nmodule.exports = {\n  SchemaV4Properties,\n  SchemaV4Generator\n};\n","function Caseless (dict) {\n  this.dict = dict || {}\n}\nCaseless.prototype.set = function (name, value, clobber) {\n  if (typeof name === 'object') {\n    for (var i in name) {\n      this.set(i, name[i], value)\n    }\n  } else {\n    if (typeof clobber === 'undefined') clobber = true\n    var has = this.has(name)\n\n    if (!clobber && has) this.dict[has] = this.dict[has] + ',' + value\n    else this.dict[has || name] = value\n    return has\n  }\n}\nCaseless.prototype.has = function (name) {\n  var keys = Object.keys(this.dict)\n    , name = name.toLowerCase()\n    ;\n  for (var i=0;i<keys.length;i++) {\n    if (keys[i].toLowerCase() === name) return keys[i]\n  }\n  return false\n}\nCaseless.prototype.get = function (name) {\n  name = name.toLowerCase()\n  var result, _key\n  var headers = this.dict\n  Object.keys(headers).forEach(function (key) {\n    _key = key.toLowerCase()\n    if (name === _key) result = headers[key]\n  })\n  return result\n}\nCaseless.prototype.swap = function (name) {\n  var has = this.has(name)\n  if (has === name) return\n  if (!has) throw new Error('There is no header than matches \"'+name+'\"')\n  this.dict[name] = this.dict[has]\n  delete this.dict[has]\n}\nCaseless.prototype.del = function (name) {\n  var has = this.has(name)\n  return delete this.dict[has || name]\n}\n\nmodule.exports = function (dict) {return new Caseless(dict)}\nmodule.exports.httpify = function (resp, headers) {\n  var c = new Caseless(headers)\n  resp.setHeader = function (key, value, clobber) {\n    if (typeof value === 'undefined') return\n    return c.set(key, value, clobber)\n  }\n  resp.hasHeader = function (key) {\n    return c.has(key)\n  }\n  resp.getHeader = function (key) {\n    return c.get(key)\n  }\n  resp.removeHeader = function (key) {\n    return c.del(key)\n  }\n  resp.headers = c.dict\n  return c\n}\n","const caseless = require('caseless');\n\nmodule.exports = (message, expectedHeaders) => {\n  let newMessage;\n\n  if (message.includes('Missing required property:')) {\n    const headerName = message.split('Missing required property: ')[1];\n    newMessage = `Header '${headerName}' is missing`;\n  } else if (message.includes('No enum match for: ')) {\n    const splitted = message.split('\\' No enum match for: \"');\n    const headerName = splitted[0].replace(/^At '\\//, '');\n    const headerValue = splitted[1].replace(/\"$/, '');\n\n    const expected = caseless(expectedHeaders).get(headerName);\n    newMessage = `Header '${headerName}' has value '${headerValue}' instead of '${expected}'`;\n  } else {\n    throw new Error(\n      \"Unknown tv4 error message can't convert to headers message.\"\n    );\n  }\n\n  return newMessage;\n};\n","const clone = require('clone');\n\nconst errors = require('../errors');\nconst { JsonSchema } = require('./json-schema');\nconst {\n  SchemaV4Generator,\n  SchemaV4Properties\n} = require('../utils/schema-v4-generator');\nconst tv4ToHeadersMessage = require('../utils/tv4-to-headers-message');\n\nconst prepareHeaders = (headers) => {\n  if (typeof headers !== 'object') {\n    return headers;\n  }\n\n  const transformedHeaders = Object.keys(headers).reduce((acc, key) => {\n    return Object.assign({}, acc, { [key.toLowerCase()]: headers[key] });\n  }, {});\n\n  return transformedHeaders;\n};\n\nconst getSchema = (json) => {\n  const properties = new SchemaV4Properties({\n    keysStrict: false,\n    typesStrict: false,\n    valuesStrict: [\n      'content-type',\n      'accept',\n      'accept-charset',\n      'accept-encoding',\n      'accept-language'\n    ]\n  });\n\n  const schemaGenerator = new SchemaV4Generator({ json, properties });\n  return schemaGenerator.generate();\n};\n\nclass HeadersJsonExample extends JsonSchema {\n  constructor(expected, actual) {\n    if (typeof actual !== 'object') {\n      throw new errors.MalformedDataError('Actual is not an Object');\n    }\n\n    if (typeof expected !== 'object') {\n      throw new errors.MalformedDataError('Expected is not an Object');\n    }\n\n    const preparedExpected = prepareHeaders(expected);\n    const preparedActual = prepareHeaders(actual);\n    const preparedSchema = getSchema(preparedExpected);\n\n    if (preparedSchema && preparedSchema.properties) {\n      const skippedHeaders = ['date', 'expires'];\n      skippedHeaders.forEach((headerName) => {\n        if (preparedSchema.properties[headerName]) {\n          delete preparedSchema.properties[headerName].enum;\n        }\n      });\n    }\n\n    super(preparedSchema, preparedActual);\n\n    this.expected = preparedExpected;\n    this.actual = preparedActual;\n    this.schema = preparedSchema;\n  }\n\n  validate() {\n    const result = super.validate();\n\n    if (result.length > 0) {\n      const resultCopy = clone(result, false);\n\n      for (let i = 0; i < result.length; i++) {\n        resultCopy[i].message = tv4ToHeadersMessage(\n          resultCopy[i].message,\n          this.expected\n        );\n      }\n\n      return resultCopy;\n    }\n\n    return result;\n  }\n}\n\nmodule.exports = {\n  HeadersJsonExample\n};\n","const errors = require('../errors');\n\nclass TextDiff {\n  constructor(expected, actual) {\n    if (typeof actual !== 'string') {\n      const outError = new errors.DataNotStringError(\n        'String validator actual: input data is not string'\n      );\n      outError.data = actual;\n      throw outError;\n    }\n\n    if (typeof expected !== 'string') {\n      const outError = new errors.DataNotStringError(\n        'String validator expected: input data is not string'\n      );\n      outError.data = expected;\n      throw outError;\n    }\n\n    this.expected = expected;\n    this.actual = actual;\n  }\n\n  validate() {\n    this.valid = this.actual === this.expected;\n    return this.valid;\n  }\n\n  evaluateOutputToResults() {\n    if (this.valid) {\n      return [];\n    }\n\n    return [\n      {\n        message: 'Actual and expected data do not match.'\n      }\n    ];\n  }\n}\n\nmodule.exports = { TextDiff };\n","const errors = require('../errors');\nconst { JsonSchema } = require('./json-schema');\nconst {\n  SchemaV4Generator,\n  SchemaV4Properties\n} = require('../utils/schema-v4-generator');\n\nfunction getSchema(json) {\n  const properties = new SchemaV4Properties({\n    keysStrict: false,\n    valuesStrict: false,\n    typesStrict: false\n  });\n  const schemaGenerator = new SchemaV4Generator({ json, properties });\n  return schemaGenerator.generate();\n}\n\nclass JsonExample extends JsonSchema {\n  /**\n   * Construct a BodyValidator, check data and choose the right validator.\n   * If actual and expected data are valid JSON, and a valid schema is given,\n   * choose JsonValidator, otherwise choose StringValidator.\n   * @param {string} expected\n   * @param {string} actual\n   * @throw {MalformedDataError} when actual is not a String or when no schema provided and expected is not a String\n   * @throw {SchemaNotJsonParsableError} when given schema is not a json parsable string or valid json\n   * @throw {NotEnoughDataError} when at least one of expected data and json schema is not given\n   */\n  constructor(expected, actual) {\n    if (typeof actual !== 'string') {\n      const outError = new errors.MalformedDataError(\n        'JsonExample validator: provided actual data is not string'\n      );\n      outError.data = actual;\n      throw outError;\n    }\n\n    if (typeof expected !== 'string') {\n      const outError = new errors.MalformedDataError(\n        'JsonExample validator: provided expected data is not string'\n      );\n      outError.data = expected;\n      throw outError;\n    }\n\n    const schema = getSchema(expected);\n    super(schema, actual);\n  }\n}\n\nmodule.exports = {\n  JsonExample\n};\n","const { HeadersJsonExample } = require('./headers-json-example');\nconst { TextDiff } = require('./text-diff');\nconst { JsonExample } = require('./json-example');\nconst { JsonSchema } = require('./json-schema');\n\nmodule.exports = {\n  HeadersJsonExample,\n  TextDiff,\n  JsonExample,\n  JsonSchema\n};\n","const { HeadersJsonExample } = require('../validators');\nconst { isValidField } = require('./isValid');\n\nconst APIARY_JSON_HEADER_TYPE = 'application/vnd.apiary.http-headers+json';\n\nfunction getHeadersType(headers) {\n  return headers instanceof Object && !Array.isArray(headers)\n    ? APIARY_JSON_HEADER_TYPE\n    : null;\n}\n\n/**\n * Validates given real and expected transaction elements.\n * @param {Object<string, any>} expected\n * @param {Object<string, any>} real\n */\nfunction validateHeaders(expected, actual) {\n  const values = {\n    expected: expected.headers,\n    actual: actual.headers\n  };\n  const expectedType = getHeadersType(values.expected);\n  const actualType = getHeadersType(values.actual);\n  const errors = [];\n\n  const hasJsonHeaders =\n    actualType === APIARY_JSON_HEADER_TYPE &&\n    expectedType === APIARY_JSON_HEADER_TYPE;\n\n  const validator = hasJsonHeaders\n    ? new HeadersJsonExample(values.expected, values.actual)\n    : null;\n\n  // if you don't call \".validate()\", it never evaluates any results.\n  validator && validator.validate();\n\n  if (validator) {\n    errors.push(...validator.evaluateOutputToResults());\n  } else {\n    errors.push({\n      message: `\\\nNo validator found for real data media type\n\"${actualType}\"\nand expected data media type\n\"${expectedType}\".\\\n`\n    });\n  }\n\n  return {\n    valid: isValidField({ errors }),\n    kind: hasJsonHeaders ? 'json' : 'text',\n    values,\n    errors\n  };\n}\n\nmodule.exports = { validateHeaders };\n","/*!\n * media-typer\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to match type in RFC 6838\n *\n * type-name = restricted-name\n * subtype-name = restricted-name\n * restricted-name = restricted-name-first *126restricted-name-chars\n * restricted-name-first  = ALPHA / DIGIT\n * restricted-name-chars  = ALPHA / DIGIT / \"!\" / \"#\" /\n *                          \"$\" / \"&\" / \"-\" / \"^\" / \"_\"\n * restricted-name-chars =/ \".\" ; Characters before first dot always\n *                              ; specify a facet name\n * restricted-name-chars =/ \"+\" ; Characters after last plus always\n *                              ; specify a structured syntax suffix\n * ALPHA =  %x41-5A / %x61-7A   ; A-Z / a-z\n * DIGIT =  %x30-39             ; 0-9\n */\nvar SUBTYPE_NAME_REGEXP = /^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/\nvar TYPE_NAME_REGEXP = /^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/\nvar TYPE_REGEXP = /^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/\n\n/**\n * Module exports.\n */\n\nexports.format = format\nexports.parse = parse\nexports.test = test\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @public\n */\n\nfunction format (obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var subtype = obj.subtype\n  var suffix = obj.suffix\n  var type = obj.type\n\n  if (!type || !TYPE_NAME_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  if (!subtype || !SUBTYPE_NAME_REGEXP.test(subtype)) {\n    throw new TypeError('invalid subtype')\n  }\n\n  // format as type/subtype\n  var string = type + '/' + subtype\n\n  // append +suffix\n  if (suffix) {\n    if (!TYPE_NAME_REGEXP.test(suffix)) {\n      throw new TypeError('invalid suffix')\n    }\n\n    string += '+' + suffix\n  }\n\n  return string\n}\n\n/**\n * Test media type.\n *\n * @param {string} string\n * @return {object}\n * @public\n */\n\nfunction test (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  if (typeof string !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  return TYPE_REGEXP.test(string.toLowerCase())\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string} string\n * @return {object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  if (typeof string !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var match = TYPE_REGEXP.exec(string.toLowerCase())\n\n  if (!match) {\n    throw new TypeError('invalid media type')\n  }\n\n  var type = match[1]\n  var subtype = match[2]\n  var suffix\n\n  // suffix after last +\n  var index = subtype.lastIndexOf('+')\n  if (index !== -1) {\n    suffix = subtype.substr(index + 1)\n    subtype = subtype.substr(0, index)\n  }\n\n  return new MediaType(type, subtype, suffix)\n}\n\n/**\n * Class for MediaType object.\n * @public\n */\n\nfunction MediaType (type, subtype, suffix) {\n  this.type = type\n  this.subtype = subtype\n  this.suffix = suffix\n}\n","/*!\n * content-type\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 7231 sec 3.1.1.1\n *\n * parameter     = token \"=\" ( token / quoted-string )\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n * quoted-string = DQUOTE *( qdtext / quoted-pair ) DQUOTE\n * qdtext        = HTAB / SP / %x21 / %x23-5B / %x5D-7E / obs-text\n * obs-text      = %x80-FF\n * quoted-pair   = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n */\nvar PARAM_REGEXP = /; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *(\"(?:[\\u000b\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u000b\\u0020-\\u00ff])*\"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g\nvar TEXT_REGEXP = /^[\\u000b\\u0020-\\u007e\\u0080-\\u00ff]+$/\nvar TOKEN_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 7230 sec 3.2.6\n *\n * quoted-pair = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n * obs-text    = %x80-FF\n */\nvar QESC_REGEXP = /\\\\([\\u000b\\u0020-\\u00ff])/g\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 7230 sec 3.2.6\n */\nvar QUOTE_REGEXP = /([\\\\\"])/g\n\n/**\n * RegExp to match type in RFC 7231 sec 3.1.1.1\n *\n * media-type = type \"/\" subtype\n * type       = token\n * subtype    = token\n */\nvar TYPE_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+\\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * Module exports.\n * @public\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @public\n */\n\nfunction format (obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || !TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  var string = type\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!TOKEN_REGEXP.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  // support req/res-like objects as argument\n  var header = typeof string === 'object'\n    ? getcontenttype(string)\n    : string\n\n  if (typeof header !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = header.indexOf(';')\n  var type = index !== -1\n    ? header.substr(0, index).trim()\n    : header.trim()\n\n  if (!TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid media type')\n  }\n\n  var obj = new ContentType(type.toLowerCase())\n\n  // parse parameters\n  if (index !== -1) {\n    var key\n    var match\n    var value\n\n    PARAM_REGEXP.lastIndex = index\n\n    while ((match = PARAM_REGEXP.exec(header))) {\n      if (match.index !== index) {\n        throw new TypeError('invalid parameter format')\n      }\n\n      index += match[0].length\n      key = match[1].toLowerCase()\n      value = match[2]\n\n      if (value[0] === '\"') {\n        // remove quotes and escapes\n        value = value\n          .substr(1, value.length - 2)\n          .replace(QESC_REGEXP, '$1')\n      }\n\n      obj.parameters[key] = value\n    }\n\n    if (index !== header.length) {\n      throw new TypeError('invalid parameter format')\n    }\n  }\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @private\n */\n\nfunction getcontenttype (obj) {\n  var header\n\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    header = obj.getHeader('content-type')\n  } else if (typeof obj.headers === 'object') {\n    // req-like\n    header = obj.headers && obj.headers['content-type']\n  }\n\n  if (typeof header !== 'string') {\n    throw new TypeError('content-type header is missing from object')\n  }\n\n  return header\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring (val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (TOKEN_REGEXP.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !TEXT_REGEXP.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(QUOTE_REGEXP, '\\\\$1') + '\"'\n}\n\n/**\n * Class to represent a content type.\n * @private\n */\nfunction ContentType (type) {\n  this.parameters = Object.create(null)\n  this.type = type\n}\n","const mediaTyper = require('media-typer');\nconst contentTypeUtils = require('content-type');\n\nconst { isValidField } = require('./isValid');\nconst { TextDiff, JsonExample, JsonSchema } = require('../validators');\nconst isset = require('../utils/isset');\nconst parseJson = require('../utils/parseJson');\n\nfunction isPlainText(mediaType) {\n  return mediaType.type === 'text' && mediaType.subtype === 'plain';\n}\n\nfunction isJson(mediaType) {\n  if (!mediaType) {\n    return false;\n  }\n\n  return (\n    (mediaType.type === 'application' && mediaType.subtype === 'json') ||\n    mediaType.suffix === 'json'\n  );\n}\n\nfunction isJsonSchema(mediaType) {\n  if (!mediaType) {\n    return false;\n  }\n\n  return (\n    mediaType.type === 'application' &&\n    mediaType.subtype === 'schema' &&\n    mediaType.suffix === 'json'\n  );\n}\n\n/**\n * Parses a given content-type header into media type.\n * @param {string} contentType\n * @returns {[Error, MediaType]}\n */\nfunction parseContentType(contentType) {\n  try {\n    const { type } = contentTypeUtils.parse(`${contentType}`);\n    return mediaTyper.parse(type);\n  } catch (error) {\n    return null;\n  }\n}\n\n/**\n * Determines if a given 'Content-Type' header contains JSON.\n * @param {string} contentType\n * @returns {boolean}\n */\nfunction isJsonContentType(contentType) {\n  const mediaType = parseContentType(contentType);\n  return mediaType ? isJson(mediaType) : false;\n}\n\n/**\n * Returns a tuple of error and body media type based\n * on the given body and normalized headers.\n * @param {string} body\n * @param {string} contentType\n * @param {'actual'|'expected'} httpMessageOrigin\n * @returns {[string, MediaType]}\n */\nfunction getBodyType(body, contentType, httpMessageOrigin) {\n  const hasJsonContentType = isJsonContentType(contentType);\n\n  try {\n    parseJson(body);\n\n    const bodyMediaType = parseContentType(\n      hasJsonContentType ? contentType : 'application/json'\n    );\n\n    return [null, bodyMediaType];\n  } catch (parsingError) {\n    const fallbackMediaType = mediaTyper.parse('text/plain');\n    const error = hasJsonContentType\n      ? `Can't validate: ${httpMessageOrigin} body 'Content-Type' header is '${contentType}' \\\nbut body is not a parseable JSON:\n${parsingError.message}`\n      : null;\n\n    return [error, fallbackMediaType];\n  }\n}\n\n/**\n * Returns a tuple of error and schema media type\n * based on given body schema.\n * @param {string} bodySchema\n * @returns {[string, string]}\n */\nfunction getBodySchemaType(bodySchema) {\n  const jsonSchemaType = mediaTyper.parse('application/schema+json');\n\n  if (typeof bodySchema !== 'string') {\n    return [null, jsonSchemaType];\n  }\n\n  try {\n    parseJson(bodySchema);\n    return [null, jsonSchemaType];\n  } catch (error) {\n    // Gavel must throw when given malformed JSON Schema.\n    // See https://github.com/apiaryio/gavel.js/issues/203\n    throw new Error(`\\\nFailed to validate HTTP message \"body\": given JSON Schema is not a valid JSON.\n\n${error.message}\\\n`);\n  }\n}\n\n/**\n * Returns a body validator class based on the given\n * actual and expected body media types.\n * @param {MediaType} expectedType\n * @param {MediaType} actualType\n * @returns {Validator}\n */\nfunction getBodyValidator(expectedType, actualType) {\n  const both = (predicate) => (expected, actual) => {\n    return [expected, actual].every(predicate);\n  };\n\n  const validators = [\n    [TextDiff, both(isPlainText), 'text'],\n    // List JsonSchema first, because weak predicate of JsonExample\n    // would resolve on \"application/schema+json\" media type too.\n    [\n      JsonSchema,\n      (expected, actual) => {\n        return isJson(actual) && isJsonSchema(expected);\n      },\n      'json'\n    ],\n    [JsonExample, both(isJson), 'json']\n  ];\n\n  const validator = validators.find(([_name, predicate]) => {\n    return predicate(expectedType, actualType);\n  });\n\n  if (!validator) {\n    const error = `Can't validate actual media type '${mediaTyper.format(\n      actualType\n    )}' against the expected media type '${mediaTyper.format(expectedType)}'.`;\n    return [error, null, null];\n  }\n\n  return [null, validator[0], validator[2]];\n}\n\n/**\n * Validates given bodies of transaction elements.\n * @param {Object<string, any>} expected\n * @param {Object<string, any>} actual\n */\nfunction validateBody(expected, actual) {\n  const values = {\n    actual: actual.body\n  };\n\n  // Prevent assigning { expected: undefined }.\n  // Also ignore \"bodySchema\" as the expected value.\n  if (isset(expected.body)) {\n    values.expected = expected.body;\n  }\n\n  const errors = [];\n  const actualBodyType = typeof actual.body;\n  const hasEmptyActualBody = actual.body === '';\n\n  // Throw when user input for actual body is not a string.\n  if (actualBodyType !== 'string') {\n    throw new Error(\n      `Expected HTTP body to be a string, but got: ${actualBodyType}`\n    );\n  }\n\n  const [actualTypeError, actualType] = getBodyType(\n    actual.body,\n    actual.headers && actual.headers['content-type'],\n    'actual'\n  );\n\n  const [expectedTypeError, expectedType] = expected.bodySchema\n    ? getBodySchemaType(expected.bodySchema)\n    : getBodyType(\n        expected.body,\n        expected.headers && expected.headers['content-type'],\n        'expected'\n      );\n\n  if (actualTypeError) {\n    errors.push({\n      message: actualTypeError\n    });\n  }\n\n  if (expectedTypeError) {\n    errors.push({\n      message: expectedTypeError\n    });\n  }\n\n  const hasErrors = errors.length > 0;\n\n  // Skipping body validation in case errors during\n  // actual/expected body type definition.\n  const [validatorError, ValidatorClass, kind] = hasErrors\n    ? [null, null, null]\n    : getBodyValidator(expectedType, actualType);\n\n  if (validatorError) {\n    // In case determined media types mismtach, check if the actual is not missing.\n    // Keep in mind the following scenarios:\n    // 1. Expected '', and got '' (TextDiff/TextDiff, valid)\n    // 2. Expected {...}, but got '' (Json/TextDiff, invalid, produces \"missing actual body\" error)\n    // 3. Expected {...}, but got \"foo\" (Json/TextDiff, invalid, produces types mismatch error).\n    if (expected.body !== '' && hasEmptyActualBody) {\n      errors.push({\n        message: `Expected \"body\" of \"${mediaTyper.format(\n          expectedType\n        )}\" media type, but actual \"body\" is missing.`\n      });\n    } else {\n      errors.push({\n        message: validatorError\n      });\n    }\n  }\n\n  const usesJsonSchema = ValidatorClass && ValidatorClass.name === 'JsonSchema';\n  const validator =\n    ValidatorClass &&\n    new ValidatorClass(\n      usesJsonSchema ? expected.bodySchema : expected.body,\n      actual.body\n    );\n\n  // Calling \"validate()\" often updates an internal state of a validator.\n  // That state is later used to output the gavel-compliant results.\n  // Cannot remove until validators are refactored into simple functions.\n  // @see https://github.com/apiaryio/gavel.js/issues/150\n  validator && validator.validate();\n  const validationErrors = validator ? validator.evaluateOutputToResults() : [];\n  errors.push(...validationErrors);\n\n  return {\n    valid: isValidField({ errors }),\n    kind,\n    values,\n    errors\n  };\n}\n\nmodule.exports = {\n  validateBody,\n\n  isJson,\n  isJsonSchema,\n  isJsonContentType,\n  parseContentType,\n  getBodyType,\n  getBodySchemaType,\n  getBodyValidator\n};\n","const isset = require('./utils/isset');\nconst { coerce, coerceWeak } = require('./units/coerce');\nconst { normalize } = require('./units/normalize');\nconst { isValidResult } = require('./units/isValid');\nconst { validateMethod } = require('./units/validateMethod');\nconst { validateURI } = require('./units/validateURI');\nconst { validateStatusCode } = require('./units/validateStatusCode');\nconst { validateHeaders } = require('./units/validateHeaders');\nconst { validateBody } = require('./units/validateBody');\n\nfunction validate(expectedMessage, actualMessage) {\n  const result = {};\n  const fields = {};\n\n  // Uses strict coercion on real message.\n  // Strict coercion ensures that real message always has properties\n  // illegible for validation with the expected message, even if they\n  // are not present in the real message.\n  const actual = normalize(coerce(actualMessage));\n\n  // Use weak coercion on expected message.\n  // Weak coercion will transform only the properties present in the\n  // expected message. Properties meant for coercion, but not provided\n  // in the expected message are left out, as we don't want to mutate\n  // user's assertion.\n  const expected = normalize(coerceWeak(expectedMessage));\n\n  if (expected.method) {\n    fields.method = validateMethod(expected, actual);\n  }\n\n  if (expected.uri) {\n    fields.uri = validateURI(expected, actual);\n  }\n\n  if (expected.statusCode) {\n    fields.statusCode = validateStatusCode(expected, actual);\n  }\n\n  if (expected.headers) {\n    fields.headers = validateHeaders(expected, actual);\n  }\n\n  if (isset(expected.body) || isset(expected.bodySchema)) {\n    fields.body = validateBody(expected, actual);\n  }\n\n  // Indicates the validity of the actual message\n  result.valid = isValidResult(fields);\n  result.fields = fields;\n\n  return result;\n}\n\nmodule.exports = { validate };\n","const { validate } = require('./validate');\n\nmodule.exports = {\n  validate\n};\n"],"names":["otherwise","evolve","normalizeMethod","require$$0","normalizeStatusCode","require$$1","normalizeHeaders","require$$2","global","this","hasOwnProperty","isArguments","objectKeys","deepEqual","each","ValidationErrors","parseJson","getType","JsonSchema","SchemaV4Generator","SchemaV4Properties","clone","getSchema","HeadersJsonExample","TextDiff","JsonExample","require$$3","isValidField","format","parse","TYPE_REGEXP","contentType","contentTypeUtils","isset","coerce","coerceWeak","normalize","isValidResult","validateMethod","validateURI","require$$4","validateStatusCode","require$$5","validateHeaders","require$$6","validateBody","require$$7","validate"],"mappings":"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"}